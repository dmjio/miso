function X(q,z,H){if(!q&&!z)return;else if(!q&&z)d(z,H);else if(!z)k(q,H);else if(q.type===z.type)u(q,z,H);else O(q,z,H)}var O=function(q,z,H){if(E(q),z.type==="vtext")z.domRef=document.createTextNode(z.text),H.replaceChild(z.domRef,q.domRef);else D(z,function(G){H.replaceChild(G,q.domRef)});R(q)},k=function(q,z){E(q),z.removeChild(q.domRef),R(q)},u=function(q,z,H){if(q.type==="vtext"){if(q.text!==z.text)q.domRef.textContent=z.text;z.domRef=q.domRef;return}if(q.tag===z.tag&&z.key===q.key&&z["data-component-id"]===q["data-component-id"])z.domRef=q.domRef,T(q,z);else O(q,z,H)},R=function(q){p(q);for(var z in q.children)R(q.children[z])},p=function(q){if(q.onDestroyed)q.onDestroyed()},j=function(q){if(q.onBeforeDestroyed)q.onBeforeDestroyed();if(q.type==="vcomp")q.unmount(q.domRef)},E=function(q){j(q);for(var z in q.children)E(q.children[z])},h=function(q){if(q.onCreated)q.onCreated();if(q.type==="vcomp")i(q)},T=function(q,z){if(!q)q={props:null,css:null,children:[]};if(c(q.props,z.props,z.domRef,z.ns==="svg"),b(q.css,z.css,z.domRef),z.type==="vcomp")return;l(q.children,z.children,z.domRef)},c=function(q,z,H,G){var J;for(var M in q)if(J=z[M],J===void 0)if(G||!(M in H))H.removeAttribute(M,q[M]);else H[M]="";else{if(J===q[M]&&M!=="checked"&&M!=="value")continue;if(G)if(M==="href")H.setAttributeNS("http://www.w3.org/1999/xlink","href",J);else H.setAttribute(M,J);else if(M in H&&!(M==="list"||M==="form"))H[M]=J;else H.setAttribute(M,J)}for(var Q in z){if(q&&q[Q])continue;if(J=z[Q],G)if(Q==="href")H.setAttributeNS("http://www.w3.org/1999/xlink","href",J);else H.setAttribute(Q,J);else if(Q in H&&!(Q==="list"||Q==="form"))H[Q]=z[Q];else H.setAttribute(Q,J)}},b=function(q,z,H){var G;for(var J in q)if(G=z[J],!G)H.style[J]="";else if(G!==q[J])H.style[J]=G;for(var M in z){if(q&&q[M])continue;H.style[M]=z[M]}},a=function(q,z){return q.length>0&&z.length>0&&q[0].key!=null&&z[0].key!=null},l=function(q,z,H){var G=z.length>q.length?z.length:q.length;if(a(z,q))s(q,z,H);else for(var J=0;J<G;J++)X(q[J],z[J],H)},v=function(q){if(q.ns==="svg")q.domRef=document.createElementNS("http://www.w3.org/2000/svg",q.tag);else if(q.ns==="mathml")q.domRef=document.createElementNS("http://www.w3.org/1998/Math/MathML",q.tag);else q.domRef=document.createElement(q.tag)},D=function(q,z){v(q),z(q.domRef),T(null,q),h(q)},i=function(q){var z=q["data-component-id"],H=document.querySelectorAll("[data-component-id='"+z+"']");if(H.length>0){console.error('AlreadyMountedException: Component "'+z+"' is already mounted");return}q.domRef.setAttribute("data-component-id",z),q.mount(function(G){q.children.push(G),q.domRef.appendChild(G.domRef)})},d=function(q,z){if(q.type==="vtext")q.domRef=document.createTextNode(q.text),z.appendChild(q.domRef);else D(q,function(H){z.appendChild(H)})},s=function(q,z,H){var G=0,J=0,M=q.length-1,Q=z.length-1,U,$,_,Y,Z,W,A;for(;;){if(J>Q&&G>M)break;if(U=z[J],$=z[Q],Y=q[G],_=q[M],G>M)X(null,U,H),H.insertBefore(U.domRef,Y?Y.domRef:null),q.splice(J,0,U),J++;else if(J>Q){Z=M;while(M>=G)H.removeChild(q[M--].domRef);q.splice(G,Z-G+1);break}else if(Y.key===U.key)X(q[G++],z[J++],H);else if(_.key===$.key)X(q[M--],z[Q--],H);else if(Y.key===$.key&&U.key===_.key)r(A,_.domRef,Y.domRef,H),o(q,G,M),X(q[G++],z[J++],H),X(q[M--],z[Q--],H);else if(Y.key===$.key)H.insertBefore(Y.domRef,_.domRef.nextSibling),q.splice(M,0,q.splice(G,1)[0]),X(q[M--],z[Q--],H);else if(_.key===U.key)H.insertBefore(_.domRef,Y.domRef),q.splice(G,0,q.splice(M,1)[0]),X(q[G++],U,H),J++;else{W=!1,Z=G;while(Z<=M){if(q[Z].key===U.key){W=!0,A=q[Z];break}Z++}if(W)q.splice(G,0,q.splice(Z,1)[0]),X(q[G++],U,H),H.insertBefore(A.domRef,q[G].domRef),J++;else D(U,function(y){H.insertBefore(y,Y.domRef)}),q.splice(G++,0,U),J++,M++}}},r=function(q,z,H,G){q=z.nextSibling,G.insertBefore(z,H),G.insertBefore(H,q)},o=function(q,z,H){var G=q[z];q[z]=q[H],q[H]=G};function P(q,z,H,G){for(var J in z)q.addEventListener(z[J][0],function(M){F(M,q,H,G)},z[J][1])}var F=function(q,z,H,G){H(function(J){if(q.target)C(q,J,n(z,q.target),[],G)})};function w(q,z,H,G){for(var J in z)q.removeEventListener(z[J][0],function(M){F(M,q,H,G)},z[J][1])}var C=function(q,z,H,G,J){if(!H.length){if(J)console.warn('Event "'+q.type+'" did not find an event handler to dispatch on',z,q);return}else if(H.length>1){G.unshift(z);for(var M=0;M<z.children.length;M++){if(z.type==="vcomp")continue;if(z.children[M].domRef===H[1]){C(q,z.children[M],H.slice(1),G,J);break}}}else{var Q=z.events[q.type];if(Q){var U=Q.options;if(U.preventDefault)q.preventDefault();if(Q.runEvent(q),!U.stopPropagation)S(G,q)}else S(G,q)}},n=function(q,z){var H=[];while(q!==z)H.unshift(z),z=z.parentNode;return H},S=function(q,z){for(var H=0;H<q.length;H++)if(q[H].events[z.type]){var G=q[H].events[z.type],J=G.options;if(J.preventDefault)z.preventDefault();if(G.runEvent(z),J.stopPropagation){z.stopPropagation();break}}};function K(q,z){if(typeof q[0]=="object"){var H=[];for(var G=0;G<q.length;G++)H.push(K(q[G],z));return H}for(G in q)z=z[q[G]];var J;if(z instanceof Array||"length"in z&&z.localName!=="select"){J=[];for(G=0;G<z.length;G++)J.push(K([],z[G]));return J}J={};for(G in t(z)){if(z.localName==="input"&&(G==="selectionDirection"||G==="selectionStart"||G==="selectionEnd"))continue;if(typeof z[G]=="string"||typeof z[G]=="number"||typeof z[G]=="boolean")J[G]=z[G]}return J}var t=function(q){var z={},H=0;do{var G=Object.getOwnPropertyNames(q);for(H=0;H<G.length;H++)z[G[H]]=null}while(q=Object.getPrototypeOf(q));return z},e=function(q){var z=0,H=q.length>0?[q[0]]:[];for(var G=1;G<q.length;G++){if(H[z].type==="vtext"&&q[G].type==="vtext"){H[z].text+=q[G].text;continue}H[++z]=q[G]}return H};function L(q,z,H){var G=0,J;if(!z)if(document.body.childNodes.length>0)J=document.body.firstChild;else J=document.body.appendChild(document.createElement("div"));else if(z.childNodes.length===0)J=z.appendChild(document.createElement("div"));else{while(z.childNodes[G]&&(z.childNodes[G].nodeType===3||z.childNodes[G].localName==="script"))G++;if(!z.childNodes[G])J=document.body.appendChild(document.createElement("div"));else J=z.childNodes[G]}if(!V(q,H,J)){if(q)console.warn("Could not copy DOM into virtual DOM, falling back to diff");while(J.firstChild)J.removeChild(J.lastChild);return H.domRef=J,T(null,H),!1}else if(q){var M=B(!0,H);if(!M)console.warn("Integrity check completed with errors");else console.info("Successfully prerendered page")}return!0}var N=function(q,z,H){if(q)console.warn("VTree differed from node",z,H)},f=function(q){if(q.substr(0,1)=="#"){var z=(q.length-1)/3,H=[17,1,0.062272][z-1];return[Math.round(parseInt(q.substr(1,z),16)*H),Math.round(parseInt(q.substr(1+z,z),16)*H),Math.round(parseInt(q.substr(1+2*z,z),16)*H)]}else return q.split("(")[1].split(")")[0].split(",").map((G)=>{return+G})};function B(q,z){if(z.type=="vtext"){if(z.domRef.nodeType!==3)console.warn("VText domRef not a TEXT_NODE",z),q=!1;else if(z.text!==z.domRef.textContent)console.warn("VText node content differs",z),q=!1}else{if(z.tag.toUpperCase()!==z.domRef.tagName)console.warn("Integrity check failed, tags differ",z.tag.toUpperCase(),z.domRef.tagName),q=!1;if("children"in z&&z.children.length!==z.domRef.childNodes.length)console.warn("Integrity check failed, children lengths differ",z,z.children,z.domRef.childNodes),q=!1;var H=Object.keys(z.props).length,G=null;for(var J=0;J<H;J++)if(G=Object.keys(z.props)[J],G==="href"){var M=window.location.origin+"/"+z.props[G],Q=z.domRef[G],U=z.props[G];if(M!==Q&&U!==Q&&U+"/"!==Q&&M+"/"!==Q)console.warn("Property "+G+" differs",z.props[G],z.domRef[G]),q=!1}else if(G==="height"||G==="width"){if(parseFloat(z.props[G])!==parseFloat(z.domRef[G]))console.warn("Property "+G+" differs",z.props[G],z.domRef[G]),q=!1}else if(G==="class"||G==="className"){if(z.props[G]!==z.domRef.className)console.warn("Property class differs",z.props[G],z.domRef.className),q=!1}else if(!z.domRef[G]){if(z.props[G]!==z.domRef.getAttribute(G))console.warn("Property "+G+" differs",z.props[G],z.domRef.getAttribute(G)),q=!1}else if(z.props[G]!==z.domRef[G])console.warn("Property "+G+" differs",z.props[G],z.domRef[G]),q=!1;H=Object.keys(z.css).length;for(J=0;J<H;J++)if(G=Object.keys(z.css)[J],G==="color"){if(f(z.domRef.style[G]).toString()!==f(z.css[G]).toString())console.warn("Style "+G+" differs",z.css[G],z.domRef.style[G]),q=!1}else if(z.css[G]!==z.domRef.style[G])console.warn("Style "+G+" differs",z.css[G],z.domRef.style[G]),q=!1;for(J=0;J<z.children.length;J++)q&=B(q,z.children[J])}return q}var V=function(q,z,H){var G,J;z.domRef=H,h(z),z.children=e(z.children);for(var M=0;M<z.children.length;M++){if(G=z.children[M],J=H.childNodes[M],!J)return N(q,G,J),!1;if(G.type==="vtext"){if(J.nodeType!==3)return N(q,G,J),!1;if(G.text===J.textContent)G.domRef=J;else return N(q,G,J),!1}else if(G.type==="vcomp")G.mount(function(Q){G.children.push(Q),V(q,G,J)});else{if(J.nodeType!==1)return!1;G.domRef=J,V(q,G,J)}}return!0};function I(q,z){var H=function(){var G=document.getElementById(q);if(G&&G.focus)G.focus()};z>0?setTimeout(H,z):H()}function g(q,z){var H=function(){var G=document.getElementById(q);if(G&&G.blur)G.blur()};z>0?setTimeout(H,z):H()}function x(q){document.body.setAttribute("data-component-id",q)}var m="1.9.0.0";miso={};miso.diff=X;miso.hydrate=L;miso.version=m;miso.delegate=P;miso.callBlur=g;miso.callFocus=I;miso.eventJSON=K;miso.undelegate=w;miso.integrityCheck=B;miso.setBodyComponent=x;
