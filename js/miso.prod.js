var D="1.9.0.0";function B(T,q){var z=function(){var G=document.getElementById(T);if(G&&G.focus)G.focus()};q>0?setTimeout(z,q):z()}function S(T,q){var z=function(){var G=document.getElementById(T);if(G&&G.blur)G.blur()};q>0?setTimeout(z,q):z()}function E(T,q,z,G,H,Q){var K={method:q,headers:G};if(z)K.body=z;fetch(T,K).then((X)=>{if(!X.ok)throw new Error(X.statusText);return X.json()}).then(H).catch(Q)}function W(T){if(T.children.length===0)return!1;var q=!0;for(let z of T.children)if(!z.key){q=!1;break}return q}function M(T){var q=function(z){let G=null;while(z&&z.parentNode){if("componentId"in z.parentNode){G=z.parentNode.componentId;break}z=z.parentNode}return G};return q(T)}function f(T,q,z,G,H,Q,K,X,_){try{let Y=new WebSocket(T);return Y.onopen=function(){q()},Y.onclose=function(Z){z(Z)},Y.onerror=function(Z){console.error(Z),X("WebSocket error received")},Y.onmessage=function(Z){if(typeof Z.data==="string")try{if(_){if(G)G(Z.data);return}let U=JSON.parse(Z.data);if(H)H(U)}catch(U){if(_&&G)G(Z.data);else X(U.message)}else if(Z.data instanceof Blob){if(Q)Q(Z.data)}else if(Z.data instanceof ArrayBuffer){if(K)K(Z.data)}else console.error("Received unknown message type from WebSocket",Z),X("Unknown message received from WebSocket")},Y}catch(Y){X(Y.message)}}function P(T){if(T)T.close(),T=null}function C(T,q){if(q&&T&&T.readyState===WebSocket.OPEN)T.send(q)}function h(T,q,z,G,H){try{let Q=new EventSource(T);return Q.onopen=function(){q()},Q.onerror=function(){H("EventSource error received")},Q.onmessage=function(K){try{let X=JSON.parse(K.data);G(X)}catch(X){z(K.data)}},Q}catch(Q){H(Q.message)}}function F(T){if(T)T.close(),T=null}function L(T){var q=r(o(),T);if(!q.shouldSync)q.shouldSync=W(q);return q}function r(T,q){return Object.assign({},T,q)}function o(){return{props:{},css:{},children:[],ns:"html",domRef:null,tag:"div",key:null,events:{},onDestroyed:()=>{},onBeforeDestroyed:()=>{},onCreated:()=>{},onBeforeCreated:()=>{},shouldSync:!1,type:"vnode"}}function $(T,q,z,G){if(!T&&!q)return;else if(!T&&q)ZT(q,z,G);else if(!q)n(T,z,G);else if(T.type===q.type)t(T,q,z,G);else l(T,q,z,G)}function l(T,q,z,G){if(w(T),q.type==="vtext")q.domRef=G.createTextNode(q.text),G.replaceChild(z,q.domRef,T.domRef);else g(q,G,(H)=>{G.replaceChild(z,H,T.domRef)});O(T)}function n(T,q,z){w(T),z.removeChild(q,T.domRef),O(T)}function t(T,q,z,G){if(T.type==="vtext"){if(T.text!==q.text)G.setTextContent(T.domRef,q.text);q.domRef=T.domRef;return}if(q.tag===T.tag&&q.key===T.key&&q.type===T.type)q.domRef=T.domRef,A(T,q,G);else l(T,q,z,G)}function O(T){e(T);for(let q in T.children)O(T.children[q])}function e(T){if(T.onDestroyed)T.onDestroyed();if(T.type==="vcomp")XT(T)}function TT(T){if(T.onBeforeDestroyed)T.onBeforeDestroyed()}function w(T){if(T.type==="vcomp"&&T.onBeforeUnmounted)T.onBeforeUnmounted();TT(T);for(let q in T.children)w(T.children[q])}function I(T,q){if(T.onCreated)T.onCreated(T.domRef);if(T.type==="vcomp")YT(T,q)}function qT(T){if(T.onBeforeCreated)T.onBeforeCreated()}function A(T,q,z){if(q.type!=="vtext"){if(!T)T=L({});if(zT(T.props,q.props,q.domRef,q.ns==="svg",z),GT(T.css,q.css,q.domRef,z),q.type==="vnode")HT(T,q,q.domRef,z);QT(q)}}function zT(T,q,z,G,H){var Q;for(let K in T)if(Q=q[K],Q===void 0)if(G||!(K in z)||K==="disabled")H.removeAttribute(z,K);else H.setAttribute(z,K,"");else{if(Q===T[K]&&K!=="checked"&&K!=="value")continue;if(G)if(K==="href")H.setAttributeNS(z,"http://www.w3.org/1999/xlink","href",Q);else H.setAttribute(z,K,Q);else if(K in z&&!(K==="list"||K==="form"))z[K]=Q;else H.setAttribute(z,K,Q)}for(let K in q){if(T&&T[K])continue;if(Q=q[K],G)if(K==="href")H.setAttributeNS(z,"http://www.w3.org/1999/xlink","href",Q);else H.setAttribute(z,K,Q);else if(K in z&&!(K==="list"||K==="form"))z[K]=q[K];else H.setAttribute(z,K,Q)}}function GT(T,q,z,G){G.setInlineStyle(T,q,z)}function HT(T,q,z,G){if(T.shouldSync&&q.shouldSync)_T(T.children,q.children,z,G);else{let H=q.children.length>T.children.length?q.children.length:T.children.length;for(let Q=0;Q<H;Q++)$(T.children[Q],q.children[Q],z,G)}}function KT(T,q){if(T.ns==="svg")T.domRef=q.createElementNS("http://www.w3.org/2000/svg",T.tag);else if(T.ns==="mathml")T.domRef=q.createElementNS("http://www.w3.org/1998/Math/MathML",T.tag);else T.domRef=q.createElement(T.tag)}function g(T,q,z){qT(T),KT(T,q),I(T,q),z(T.domRef),A(null,T,q)}function QT(T){if(T.tag==="canvas"&&"draw"in T)T.draw(T.domRef)}function XT(T){if("onUnmounted"in T)T.onUnmounted(T.domRef);T.unmount(T.domRef)}function YT(T,q){if(T.onBeforeMounted)T.onBeforeMounted();T.mount(T.domRef,(z,G)=>{if(T.children.push(G),q.appendChild(T.domRef,G.domRef),T.onMounted)T.onMounted(T.domRef)})}function ZT(T,q,z){if(T.type==="vtext")T.domRef=z.createTextNode(T.text),z.appendChild(q,T.domRef);else g(T,z,(G)=>{z.appendChild(q,G)})}function _T(T,q,z,G){var H=0,Q=0,K=T.length-1,X=q.length-1,_,Y,Z,U,J,R,p;for(;;){if(Q>X&&H>K)break;if(Y=q[Q],Z=q[X],J=T[H],U=T[K],H>K)$(null,Y,z,G),G.insertBefore(z,Y.domRef,J?J.domRef:null),T.splice(Q,0,Y),Q++;else if(Q>X){_=K;while(K>=H)G.removeChild(z,T[K--].domRef);T.splice(H,_-H+1);break}else if(J.key===Y.key)$(T[H++],q[Q++],z,G);else if(U.key===Z.key)$(T[K--],q[X--],z,G);else if(J.key===Z.key&&Y.key===U.key)G.swapDOMRefs(U.domRef,J.domRef,z),$T(T,H,K),$(T[H++],q[Q++],z,G),$(T[K--],q[X--],z,G);else if(J.key===Z.key)G.insertBefore(z,J.domRef,U.domRef.nextSibling),T.splice(K,0,T.splice(H,1)[0]),$(T[K--],q[X--],z,G);else if(U.key===Y.key)G.insertBefore(z,U.domRef,J.domRef),T.splice(H,0,T.splice(K,1)[0]),$(T[H++],Y,z,G),Q++;else{R=!1,_=H;while(_<=K){if(T[_].key===Y.key){R=!0,p=T[_];break}_++}if(R)T.splice(H,0,T.splice(_,1)[0]),$(T[H++],Y,z,G),G.insertBefore(z,p.domRef,T[H].domRef),Q++;else g(Y,G,(s)=>{G.insertBefore(z,s,J.domRef)}),T.splice(H++,0,Y),Q++,K++}}}function $T(T,q,z){let G=T[q];T[q]=T[z],T[z]=G}function m(T,q,z,G,H){for(let Q of q)H.addEventListener(T,Q.name,function(K){v(K,T,z,G,H)},Q.capture)}function y(T,q,z,G,H){for(let Q of q)T.removeEventListener(Q.name,function(K){v(K,T,z,G,H)},Q.capture)}function v(T,q,z,G,H){z(function(Q){if(Array.isArray(T))for(let K of T)b(K,Q,q,G,H);else b(T,Q,q,G,H)})}function b(T,q,z,G,H){var Q=H.getTarget(T);if(Q){var K=UT(z,Q,H);a(T,q,K,[],G,H)}}function UT(T,q,z){var G=[];while(!z.isEqual(T,q))if(G.unshift(q),q&&z.parentNode(q))q=z.parentNode(q);else return G;return G}function a(T,q,z,G,H,Q){if(!z.length){if(H)console.warn('Event "'+T.type+'" did not find an event handler to dispatch on',q,T);return}else if(z.length>1){G.unshift(q);for(var K in q.children){var X=q.children[K];if(X.type==="vcomp")continue;if(Q.isEqual(X.domRef,z[1])){a(T,X,z.slice(1),G,H,Q);break}}}else{let _=q.events[T.type];if(_){let Y=_.options;if(Y.preventDefault)T.preventDefault();if(_.runEvent(T,z[0]),!Y.stopPropagation)j(G,T)}else j(G,T)}}function j(T,q){for(let z of T)if(z.events[q.type]){let G=z.events[q.type],H=G.options;if(H.preventDefault)q.preventDefault();if(G.runEvent(q,z.domRef),H.stopPropagation){q.stopPropagation();break}}}function V(T,q){if(typeof T[0]==="object"){var z=[];for(var G=0;G<T.length;G++)z.push(V(T[G],q));return z}for(let X of T)q=q[X];var H;if(q instanceof Array||"length"in q&&q.localName!=="select"){H=[];for(var Q=0;Q<q.length;Q++)H.push(V([],q[Q]));return H}H={};for(var K in JT(q)){if(q.localName==="input"&&(K==="selectionDirection"||K==="selectionStart"||K==="selectionEnd"))continue;if(typeof q[K]=="string"||typeof q[K]=="number"||typeof q[K]=="boolean")H[K]=q[K]}return H}function JT(T){var q={},z=0;do{var G=Object.getOwnPropertyNames(T);for(z=0;z<G.length;z++)q[G[z]]=null}while(T=Object.getPrototypeOf(T));return q}function WT(T){var q=0,z=T.length>0?[T[0]]:[];for(var G=1;G<T.length;G++){if(z[q].type==="vtext"&&T[G].type==="vtext"){z[q].text+=T[G].text;continue}z[++q]=T[G]}return z}function VT(T,q){var z=0,G,H=q.getRoot();if(!T)if(H.childNodes.length>0)G=H.firstChild;else G=H.appendChild(q.createElement("div"));else if(T.childNodes.length===0)G=T.appendChild(q.createElement("div"));else{while(T.childNodes[z]&&(T.childNodes[z].nodeType===3||T.childNodes[z].localName==="script"))z++;if(!T.childNodes[z])G=H.appendChild(q.createElement("div"));else G=T.childNodes[z]}return G}function i(T,q,z,G){let H=VT(q,G);if(!u(T,z,H,G)){if(T)console.warn("[DEBUG_HYDRATE] Could not copy DOM into virtual DOM, falling back to diff");while(G.firstChild(H))G.removeChild(H,G.lastChild(H));return z.domRef=H,A(null,z,G),!1}else if(T)if(!N(z,G))console.warn("[DEBUG_HYDRATE] Integrity check completed with errors");else console.info("[DEBUG_HYDRATE] Successfully prerendered page");return!0}function k(T,q,z){if(T)console.warn("[DEBUG_HYDRATE] VTree differed from node",q,z)}function x(T){if(T.substr(0,1)=="#"){let q=(T.length-1)/3,z=[17,1,0.062272][q-1];return[Math.round(parseInt(T.substr(1,q),16)*z),Math.round(parseInt(T.substr(1+q,q),16)*z),Math.round(parseInt(T.substr(1+2*q,q),16)*z)]}else return T.split("(")[1].split(")")[0].split(",").map((q)=>{return+q})}function N(T,q){return d(!0,T,q)}function d(T,q,z){if(q.type=="vtext"){if(z.getTag(q.domRef)!=="#text")console.warn("VText domRef not a TEXT_NODE",q),T=!1;else if(q.text!==z.getTextContent(q.domRef))console.warn("VText node content differs",q),T=!1}else{if(q.tag.toUpperCase()!==z.getTag(q.domRef).toUpperCase())console.warn("Integrity check failed, tags differ",q.tag.toUpperCase(),z.getTag(q.domRef)),T=!1;if("children"in q&&q.children.length!==z.children(q.domRef).length)console.warn("Integrity check failed, children lengths differ",q,q.children,z.children(q.domRef)),T=!1;for(let G in q.props)if(G==="href"||G==="src"){let H=window.location.origin+"/"+q.props[G],Q=z.getAttribute(q.domRef,G),K=q.props[G];if(H!==Q&&K!==Q&&K+"/"!==Q&&H+"/"!==Q)console.warn("Property "+G+" differs",q.props[G],z.getAttribute(q.domRef,G)),T=!1}else if(G==="height"||G==="width"){if(parseFloat(q.props[G])!==parseFloat(z.getAttribute(q.domRef,G)))console.warn("Property "+G+" differs",q.props[G],z.getAttribute(q.domRef,G)),T=!1}else if(G==="class"||G==="className"){if(q.props[G]!==z.getAttribute(q.domRef,"class"))console.warn("Property class differs",q.props[G],z.getAttribute(q.domRef,"class")),T=!1}else if(q.props[G]!==z.getAttribute(q.domRef,G))console.warn("Property "+G+" differs",q.props[G],z.getAttribute(q.domRef,G)),T=!1;for(let G in q.css)if(G==="color"){if(x(z.getInlineStyle(q.domRef,G)).toString()!==x(q.css[G]).toString())console.warn("Style "+G+" differs",q.css[G],z.getInlineStyle(q.domRef,G)),T=!1}else if(q.css[G]!==z.getInlineStyle(q.domRef,G))console.warn("Style "+G+" differs",q.css[G],z.getInlineStyle(q.domRef,G)),T=!1;for(let G of q.children){let H=d(T,G,z);T=T&&H}}return T}function u(T,q,z,G){switch(q.type){case"vtext":q.domRef=z;break;default:q.domRef=z,q.children=WT(q.children),I(q,G);for(var H=0;H<q.children.length;H++){let Q=q.children[H],K=z.childNodes[H];if(!K)return k(T,Q,K),!1;switch(Q.type){case"vtext":if(K.nodeType!==3)return k(T,Q,K),!1;if(Q.text===K.textContent)Q.domRef=G.children(z)[H];else return k(T,Q,K),!1;break;case"vcomp":Q.mount(Q.domRef,(X,_)=>{Q.children.push(_),u(T,Q,z.childNodes[H],G)});break;default:if(K.nodeType!==1)return!1;Q.domRef=z.childNodes[H],u(T,Q,Q.domRef,G)}}}return!0}var c={addEventListener:(T,q,z,G)=>{T.addEventListener(q,z,G)},firstChild:(T)=>{return T.firstChild},lastChild:(T)=>{return T.lastChild},parentNode:(T)=>{return T.parentNode},createTextNode:(T)=>{return document.createTextNode(T)},createElementNS:(T,q)=>{return document.createElementNS(T,q)},appendChild:(T,q)=>{return T.appendChild(q)},replaceChild:(T,q,z)=>{return T.replaceChild(q,z)},removeChild:(T,q)=>{return T.removeChild(q)},createElement:(T)=>{return document.createElement(T)},insertBefore:(T,q,z)=>{return T.insertBefore(q,z)},swapDOMRefs:(T,q,z)=>{let G=T.nextSibling;z.insertBefore(T,q),z.insertBefore(q,G);return},querySelectorAll:(T)=>{return document.querySelectorAll(T)},setInlineStyle:(T,q,z)=>{var G;for(let H in T)if(G=q[H],!G)z.style[H]="";else if(G!==T[H])z.style[H]=G;for(let H in q){if(T&&T[H])continue;z.style[H]=q[H]}return},getInlineStyle:(T,q)=>{return T.style[q]},setAttribute:(T,q,z)=>{return T.setAttribute(q,z)},getAttribute:(T,q)=>{if(q==="class")return T.className;if(q in T)return T[q];return T.getAttribute(q)},setAttributeNS:(T,q,z,G)=>{return T.setAttributeNS(q,z,G)},removeAttribute:(T,q)=>{return T.removeAttribute(q)},setTextContent:(T,q)=>{T.textContent=q;return},getTag:(T)=>{return T.nodeName},getTextContent:(T)=>{return T.textContent},children:(T)=>{return T.childNodes},isEqual:(T,q)=>{return T===q},getTarget:(T)=>{return T.target},requestAnimationFrame:(T)=>{return window.requestAnimationFrame(T)},flush:()=>{return},getRoot:()=>{return document.body}};globalThis.miso={};globalThis.miso.diff=$;globalThis.miso.hydrate=i;globalThis.miso.version=D;globalThis.miso.delegate=m;globalThis.miso.callBlur=S;globalThis.miso.callFocus=B;globalThis.miso.eventJSON=V;globalThis.miso.fetchJSON=E;globalThis.miso.eventSourceConnect=h;globalThis.miso.eventSourceClose=F;globalThis.miso.websocketConnect=f;globalThis.miso.websocketClose=P;globalThis.miso.websocketSend=C;globalThis.miso.undelegate=y;globalThis.miso.getParentComponentId=M;globalThis.miso.shouldSync=W;globalThis.miso.integrityCheck=N;globalThis.miso.context=c;globalThis.miso.setDrawingContext=function(T){let q=globalThis[T];if(!q)console.warn("Custom rendering engine is not defined",T,globalThis[T]);else globalThis.miso.context=q};
