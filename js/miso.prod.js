var V="1.9.0.0";function E(T,J){var N=function(){var q=document.getElementById(T);if(q&&q.focus)q.focus()};J>0?setTimeout(N,J):N()}function R(T,J){var N=function(){var q=document.getElementById(T);if(q&&q.blur)q.blur()};J>0?setTimeout(N,J):N()}function S(T,J){T.setAttribute("data-component-id",J)}function D(T,J,N,q,z,H){var G={method:J,headers:q};if(N)G.body=N;fetch(T,G).then((K)=>{if(!K.ok)throw new Error(K.statusText);return K.json()}).then(z).catch(H)}function _(T){if(T.children.length===0)return!1;var J=!0;for(let N of T.children)if(!N.key){J=!1;break}return J}function f(T){var J=a(x(),T);if(!J.shouldSync)J.shouldSync=_(J);return J}function a(T,J){return Object.assign({},T,J)}function x(){return{props:{},css:{},children:[],ns:"html",domRef:null,tag:"div",key:null,events:{},onDestroyed:()=>{},onBeforeDestroyed:()=>{},onCreated:()=>{},onBeforeCreated:()=>{},shouldSync:!1,type:"vnode"}}function X(T,J,N,q){if(!T&&!J)return;else if(!T&&J)zT(J,N,q);else if(!J)s(T,N,q);else if(T.type===J.type)d(T,J,N,q);else y(T,J,N,q)}function y(T,J,N,q){if(h(T),J.type==="vtext")J.domRef=q.createTextNode(J.text),q.replaceChild(N,J.domRef,T.domRef);else P(J,q,(z)=>{q.replaceChild(N,z,T.domRef)});O(T)}function s(T,J,N){h(T),N.removeChild(J,T.domRef),O(T)}function d(T,J,N,q){if(T.type==="vtext"){if(T.text!==J.text)q.setTextContent(T.domRef,J.text);J.domRef=T.domRef;return}var z=function(H,G){if(H.type==="vcomp"&&!H["data-component-id"].startsWith("miso-component-id"))return H["data-component-id"]===G["data-component-id"];return!0};if(T.tag===J.tag&&J.key===T.key&&J.type===T.type&&z(J,T))J.domRef=T.domRef,M(T,J,q);else y(T,J,N,q)}function O(T){c(T);for(let J in T.children)O(T.children[J])}function c(T){if(T.onDestroyed)T.onDestroyed();if(T.type==="vcomp")NT(T)}function r(T){if(T.onBeforeDestroyed)T.onBeforeDestroyed()}function h(T){if(T.type==="vcomp"&&T.onBeforeUnmounted)T.onBeforeUnmounted();r(T);for(let J in T.children)h(T.children[J])}function g(T,J){if(T.onCreated)T.onCreated();if(T.type==="vcomp")qT(T,J)}function o(T){if(T.onBeforeCreated)T.onBeforeCreated()}function M(T,J,N){if(J.type!=="vtext"){if(!T)T=f({});if(n(T.props,J.props,J.domRef,J.ns==="svg",N),t(T.css,J.css,J.domRef,N),J.type==="vnode")e(T,J,J.domRef,N);JT(J)}}function n(T,J,N,q,z){var H;for(let G in T)if(H=J[G],H===void 0)if(q||!(G in N))z.removeAttribute(N,T[G]);else z.setAttribute(N,G,"");else{if(H===T[G]&&G!=="checked"&&G!=="value")continue;if(q)if(G==="href")z.setAttributeNS(N,"http://www.w3.org/1999/xlink","href",H);else z.setAttribute(N,G,H);else if(G in N&&!(G==="list"||G==="form"))N[G]=H;else z.setAttribute(N,G,H)}for(let G in J){if(T&&T[G])continue;if(H=J[G],q)if(G==="href")z.setAttributeNS(N,"http://www.w3.org/1999/xlink","href",H);else z.setAttribute(N,G,H);else if(G in N&&!(G==="list"||G==="form"))N[G]=J[G];else z.setAttribute(N,G,H)}}function t(T,J,N,q){q.setInlineStyle(T,J,N)}function e(T,J,N,q){if(T.shouldSync&&J.shouldSync)GT(T.children,J.children,N,q);else{let z=J.children.length>T.children.length?J.children.length:T.children.length;for(let H=0;H<z;H++)X(T.children[H],J.children[H],N,q)}}function TT(T,J){if(T.ns==="svg")T.domRef=J.createElementNS("http://www.w3.org/2000/svg",T.tag);else if(T.ns==="mathml")T.domRef=J.createElementNS("http://www.w3.org/1998/Math/MathML",T.tag);else T.domRef=J.createElement(T.tag)}function P(T,J,N){o(T),TT(T,J),N(T.domRef),M(null,T,J),g(T,J)}function JT(T){if(T.tag==="canvas"&&"draw"in T)T.draw(T.domRef)}function NT(T){if("onUnmounted"in T)T.onUnmounted(T["data-component-id"]);T.unmount()}function qT(T,J){let N=T["data-component-id"];if(J.querySelectorAll("[data-component-id='"+N+"']").length>0){console.error('AlreadyMountedException: Component "'+N+"' is already mounted");return}if(J.setAttribute(T.domRef,"data-component-id",N),T.onBeforeMounted)T.onBeforeMounted();T.mount((z)=>{if(T.children.push(z),J.appendChild(T.domRef,z.domRef),T.onMounted)T.onMounted(N)})}function zT(T,J,N){if(T.type==="vtext")T.domRef=N.createTextNode(T.text),N.appendChild(J,T.domRef);else P(T,N,(q)=>{N.appendChild(J,q)})}function GT(T,J,N,q){var z=0,H=0,G=T.length-1,K=J.length-1,U,Q,A,Z,Y,B,m;for(;;){if(H>K&&z>G)break;if(Q=J[H],A=J[K],Y=T[z],Z=T[G],z>G)X(null,Q,N,q),q.insertBefore(N,Q.domRef,Y?Y.domRef:null),T.splice(H,0,Q),H++;else if(H>K){U=G;while(G>=z)q.removeChild(N,T[G--].domRef);T.splice(z,U-z+1);break}else if(Y.key===Q.key)X(T[z++],J[H++],N,q);else if(Z.key===A.key)X(T[G--],J[K--],N,q);else if(Y.key===A.key&&Q.key===Z.key)q.swapDOMRefs(Z.domRef,Y.domRef,N),HT(T,z,G),X(T[z++],J[H++],N,q),X(T[G--],J[K--],N,q);else if(Y.key===A.key)q.insertBefore(N,Y.domRef,Z.domRef.nextSibling),T.splice(G,0,T.splice(z,1)[0]),X(T[G--],J[K--],N,q);else if(Z.key===Q.key)q.insertBefore(N,Z.domRef,Y.domRef),T.splice(z,0,T.splice(G,1)[0]),X(T[z++],Q,N,q),H++;else{B=!1,U=z;while(U<=G){if(T[U].key===Q.key){B=!0,m=T[U];break}U++}if(B)T.splice(z,0,T.splice(U,1)[0]),X(T[z++],Q,N,q),q.insertBefore(N,m.domRef,T[z].domRef),H++;else P(Q,q,(v)=>{q.insertBefore(N,v,Y.domRef)}),T.splice(z++,0,Q),H++,G++}}}function HT(T,J,N){let q=T[J];T[J]=T[N],T[N]=q}function F(T,J,N,q,z){for(let H of J)z.addEventListener(T,H.name,function(G){i(G,T,N,q,z)},H.capture)}function L(T,J,N,q,z){for(let H of J)T.removeEventListener(H.name,function(G){i(G,T,N,q,z)},H.capture)}function i(T,J,N,q,z){N(function(H){if(Array.isArray(T))for(let G of T)k(G,H,J,q,z);else k(T,H,J,q,z)})}function k(T,J,N,q,z){var H=z.getTarget(T);if(H){var G=KT(N,H,z);p(T,J,G,[],q,z)}}function KT(T,J,N){var q=[];while(!N.isEqual(T,J))q.unshift(J),J=N.parentNode(J);return q}function p(T,J,N,q,z,H){if(!N.length){if(z)console.warn('Event "'+T.type+'" did not find an event handler to dispatch on',J,T);return}else if(N.length>1){q.unshift(J);for(var G in J.children){var K=J.children[G];if(K.type==="vcomp")continue;if(H.isEqual(K.domRef,N[1])){p(T,K,N.slice(1),q,z,H);break}}}else{let U=J.events[T.type];if(U){let Q=U.options;if(Q.preventDefault)T.preventDefault();if(U.runEvent(T,N[0]),!Q.stopPropagation)u(q,T)}else u(q,T)}}function u(T,J){for(let N of T)if(N.events[J.type]){let q=N.events[J.type],z=q.options;if(z.preventDefault)J.preventDefault();if(q.runEvent(J,N.domRef),z.stopPropagation){J.stopPropagation();break}}}function $(T,J){if(typeof T[0]==="object"){var N=[];for(var q=0;q<T.length;q++)N.push($(T[q],J));return N}for(let K of T)J=J[K];var z;if(J instanceof Array||"length"in J&&J.localName!=="select"){z=[];for(var H=0;H<J.length;H++)z.push($([],J[H]));return z}z={};for(var G in QT(J)){if(J.localName==="input"&&(G==="selectionDirection"||G==="selectionStart"||G==="selectionEnd"))continue;if(typeof J[G]=="string"||typeof J[G]=="number"||typeof J[G]=="boolean")z[G]=J[G]}return z}function QT(T){var J={},N=0;do{var q=Object.getOwnPropertyNames(T);for(N=0;N<q.length;N++)J[q[N]]=null}while(T=Object.getPrototypeOf(T));return J}function UT(T){var J=0,N=T.length>0?[T[0]]:[];for(var q=1;q<T.length;q++){if(N[J].type==="vtext"&&T[q].type==="vtext"){N[J].text+=T[q].text;continue}N[++J]=T[q]}return N}function XT(T,J){var N=0,q,z=J.getRoot();if(!T)if(z.childNodes.length>0)q=z.firstChild;else q=z.appendChild(J.createElement("div"));else if(T.childNodes.length===0)q=T.appendChild(J.createElement("div"));else{while(T.childNodes[N]&&(T.childNodes[N].nodeType===3||T.childNodes[N].localName==="script"))N++;if(!T.childNodes[N])q=z.appendChild(J.createElement("div"));else q=T.childNodes[N]}return q}function I(T,J,N,q){let z=XT(J,q);if(!w(T,N,z,q)){if(T)console.warn("[DEBUG_HYDRATE] Could not copy DOM into virtual DOM, falling back to diff");while(q.firstChild(z))q.removeChild(z,q.lastChild(z));return N.domRef=z,M(null,N,q),!1}else if(T)if(!W(N,q))console.warn("[DEBUG_HYDRATE] Integrity check completed with errors");else console.info("[DEBUG_HYDRATE] Successfully prerendered page");return!0}function C(T,J,N){if(T)console.warn("[DEBUG_HYDRATE] VTree differed from node",J,N)}function l(T){if(T.substr(0,1)=="#"){let J=(T.length-1)/3,N=[17,1,0.062272][J-1];return[Math.round(parseInt(T.substr(1,J),16)*N),Math.round(parseInt(T.substr(1+J,J),16)*N),Math.round(parseInt(T.substr(1+2*J,J),16)*N)]}else return T.split("(")[1].split(")")[0].split(",").map((J)=>{return+J})}function W(T,J){return j(!0,T,J)}function j(T,J,N){if(J.type=="vtext"){if(N.getTag(J.domRef)!=="#text")console.warn("VText domRef not a TEXT_NODE",J),T=!1;else if(J.text!==N.getTextContent(J.domRef))console.warn("VText node content differs",J),T=!1}else{if(J.tag.toUpperCase()!==N.getTag(J.domRef).toUpperCase())console.warn("Integrity check failed, tags differ",J.tag.toUpperCase(),N.getTag(J.domRef)),T=!1;if("children"in J&&J.children.length!==N.children(J.domRef).length)console.warn("Integrity check failed, children lengths differ",J,J.children,N.children(J.domRef)),T=!1;for(let q in J.props)if(q==="href"||q==="src"){let z=window.location.origin+"/"+J.props[q],H=N.getAttribute(J.domRef,q),G=J.props[q];if(z!==H&&G!==H&&G+"/"!==H&&z+"/"!==H)console.warn("Property "+q+" differs",J.props[q],N.getAttribute(J.domRef,q)),T=!1}else if(q==="height"||q==="width"){if(parseFloat(J.props[q])!==parseFloat(N.getAttribute(J.domRef,q)))console.warn("Property "+q+" differs",J.props[q],N.getAttribute(J.domRef,q)),T=!1}else if(q==="class"||q==="className"){if(J.props[q]!==N.getAttribute(J.domRef,"class"))console.warn("Property class differs",J.props[q],N.getAttribute(J.domRef,"class")),T=!1}else if(J.props[q]!==N.getAttribute(J.domRef,q))console.warn("Property "+q+" differs",J.props[q],N.getAttribute(J.domRef,q)),T=!1;for(let q in J.css)if(q==="color"){if(l(N.getInlineStyle(J.domRef,q)).toString()!==l(J.css[q]).toString())console.warn("Style "+q+" differs",J.css[q],N.getInlineStyle(J.domRef,q)),T=!1}else if(J.css[q]!==N.getInlineStyle(J.domRef,q))console.warn("Style "+q+" differs",J.css[q],N.getInlineStyle(J.domRef,q)),T=!1;for(let q of J.children){let z=j(T,q,N);T=T&&z}}return T}function w(T,J,N,q){switch(J.type){case"vtext":J.domRef=N;break;default:J.domRef=N,J.children=UT(J.children),g(J,q);for(var z=0;z<J.children.length;z++){let H=J.children[z],G=N.childNodes[z];if(!G)return C(T,H,G),!1;switch(H.type){case"vtext":if(G.nodeType!==3)return C(T,H,G),!1;if(H.text===G.textContent)H.domRef=q.children(N)[z];else return C(T,H,G),!1;break;case"vcomp":H.mount((K)=>{H.children.push(K),w(T,H,N.childNodes[z],q)});break;default:if(G.nodeType!==1)return!1;H.domRef=N.childNodes[z],w(T,H,H.domRef,q)}}}return!0}var b={addEventListener:(T,J,N,q)=>{T.addEventListener(J,N,q)},firstChild:(T)=>{return T.firstChild},lastChild:(T)=>{return T.lastChild},parentNode:(T)=>{return T.parentNode},createTextNode:(T)=>{return document.createTextNode(T)},createElementNS:(T,J)=>{return document.createElementNS(T,J)},appendChild:(T,J)=>{return T.appendChild(J)},replaceChild:(T,J,N)=>{return T.replaceChild(J,N)},removeChild:(T,J)=>{return T.removeChild(J)},createElement:(T)=>{return document.createElement(T)},insertBefore:(T,J,N)=>{return T.insertBefore(J,N)},swapDOMRefs:(T,J,N)=>{let q=T.nextSibling;N.insertBefore(T,J),N.insertBefore(J,q);return},querySelectorAll:(T)=>{return document.querySelectorAll(T)},setInlineStyle:(T,J,N)=>{var q;for(let z in T)if(q=J[z],!q)N.style[z]="";else if(q!==T[z])N.style[z]=q;for(let z in J){if(T&&T[z])continue;N.style[z]=J[z]}return},getInlineStyle:(T,J)=>{return T.style[J]},setAttribute:(T,J,N)=>{return T.setAttribute(J,N)},getAttribute:(T,J)=>{if(J==="class")return T.className;if(J in T)return T[J];return T.getAttribute(J)},setAttributeNS:(T,J,N,q)=>{return T.setAttributeNS(J,N,q)},removeAttribute:(T,J)=>{return T.removeAttribute(J)},setTextContent:(T,J)=>{T.textContent=J;return},getTag:(T)=>{return T.nodeName},getTextContent:(T)=>{return T.textContent},children:(T)=>{return T.childNodes},isEqual:(T,J)=>{return T===J},getTarget:(T)=>{return T.target},setComponentId:(T)=>{return document.body.setAttribute("data-component-id",T)},requestAnimationFrame:(T)=>{return window.requestAnimationFrame(T)},flush:()=>{return},getRoot:()=>{return document.body}};globalThis.miso={};globalThis.miso.diff=X;globalThis.miso.hydrate=I;globalThis.miso.version=V;globalThis.miso.delegate=F;globalThis.miso.callBlur=R;globalThis.miso.callFocus=E;globalThis.miso.eventJSON=$;globalThis.miso.fetchJSON=D;globalThis.miso.undelegate=L;globalThis.miso.shouldSync=_;globalThis.miso.integrityCheck=W;globalThis.miso.setComponent=S;globalThis.miso.context=b;globalThis.miso.setDrawingContext=function(T){let J=globalThis[T];if(!J)console.warn("Custom rendering engine is not defined",T,globalThis[T]);else globalThis.miso.context=J};
