function y(){return{props:{},css:{},children:[],ns:"html",type:"vnode",domRef:null,tag:"div",key:null,events:{},onDestroyed:()=>{},onBeforeDestroyed:()=>{},onCreated:()=>{}}}function G(T,E,B){if(!T&&!E)return;else if(!T&&E)r(E,B);else if(!E)i(T,B);else if(T.type===E.type)p(T,E,B);else F(T,E,B)}function F(T,E,B){if(Z(T),E.type==="vtext")E.domRef=document.createTextNode(E.text),B.replaceChild(E.domRef,T.domRef);else $(E,function(V){B.replaceChild(V,T.domRef)});Y(T)}function i(T,E){Z(T),E.removeChild(T.domRef),Y(T)}function p(T,E,B){if(T.type==="vtext"){if(T.text!==E.text)T.domRef.textContent=E.text;E.domRef=T.domRef;return}if(T.tag===E.tag&&E.key===T.key&&E["data-component-id"]===T["data-component-id"])E.domRef=T.domRef,S(T,E);else F(T,E,B)}function Y(T){c(T);for(let E in T.children)Y(T.children[E])}function c(T){if(T.onDestroyed)T.onDestroyed()}function l(T){if(T.onBeforeDestroyed)T.onBeforeDestroyed();if(T.type==="vcomp")T.unmount(T.domRef)}function Z(T){l(T);for(let E in T.children)Z(T.children[E])}function _(T){if(T.onCreated)T.onCreated();if(T.type==="vcomp")s(T)}function S(T,E){if(E.type!=="vtext"){if(!T)T=y();if(b(T.props,E.props,E.domRef,E.ns==="svg"),a(T.css,E.css,E.domRef),E.type==="vnode")v(T.children,E.children,E.domRef)}}function b(T,E,B,V){var N;for(let M in T)if(N=E[M],N===void 0)if(V||!(M in B))B.removeAttribute(T[M]);else B[M]="";else{if(N===T[M]&&M!=="checked"&&M!=="value")continue;if(V)if(M==="href")B.setAttributeNS("http://www.w3.org/1999/xlink","href",N);else B.setAttribute(M,N);else if(M in B&&!(M==="list"||M==="form"))B[M]=N;else B.setAttribute(M,N)}for(let M in E){if(T&&T[M])continue;if(N=E[M],V)if(M==="href")B.setAttributeNS("http://www.w3.org/1999/xlink","href",N);else B.setAttribute(M,N);else if(M in B&&!(M==="list"||M==="form"))B[M]=E[M];else B.setAttribute(M,N)}}function a(T,E,B){var V;for(let N in T)if(V=E[N],!V)B.style[N]="";else if(V!==T[N])B.style[N]=V;for(let N in E){if(T&&T[N])continue;B.style[N]=E[N]}}function j(T,E){return T.length>0&&E.length>0&&T[0].key!=null&&E[0].key!=null}function v(T,E,B){let V=E.length>T.length?E.length:T.length;if(j(E,T))o(T,E,B);else for(var N=0;N<V;N++)G(T[N],E[N],B)}function d(T){if(T.ns==="svg")T.domRef=document.createElementNS("http://www.w3.org/2000/svg",T.tag);else if(T.ns==="mathml")T.domRef=document.createElementNS("http://www.w3.org/1998/Math/MathML",T.tag);else T.domRef=document.createElement(T.tag)}function $(T,E){d(T),E(T.domRef),S(null,T),_(T)}function s(T){let E=T["data-component-id"];if(document.querySelectorAll("[data-component-id='"+E+"']").length>0){console.error('AlreadyMountedException: Component "'+E+"' is already mounted");return}T.domRef.setAttribute("data-component-id",E),T.mount((V)=>{T.children.push(V),T.domRef.appendChild(V.domRef)})}function r(T,E){if(T.type==="vtext")T.domRef=document.createTextNode(T.text),E.appendChild(T.domRef);else $(T,(B)=>{E.appendChild(B)})}function o(T,E,B){var V=0,N=0,M=T.length-1,H=E.length-1,J,R,Q,z,q,X,P;for(;;){if(N>H&&V>M)break;if(R=E[N],Q=E[H],q=T[V],z=T[M],V>M)G(null,R,B),B.insertBefore(R.domRef,q?q.domRef:null),T.splice(N,0,R),N++;else if(N>H){J=M;while(M>=V)B.removeChild(T[M--].domRef);T.splice(V,J-V+1);break}else if(q.key===R.key)G(T[V++],E[N++],B);else if(z.key===Q.key)G(T[M--],E[H--],B);else if(q.key===Q.key&&R.key===z.key)t(z.domRef,q.domRef,B),n(T,V,M),G(T[V++],E[N++],B),G(T[M--],E[H--],B);else if(q.key===Q.key)B.insertBefore(q.domRef,z.domRef.nextSibling),T.splice(M,0,T.splice(V,1)[0]),G(T[M--],E[H--],B);else if(z.key===R.key)B.insertBefore(z.domRef,q.domRef),T.splice(V,0,T.splice(M,1)[0]),G(T[V++],R,B),N++;else{X=!1,J=V;while(J<=M){if(T[J].key===R.key){X=!0,P=T[J];break}J++}if(X)T.splice(V,0,T.splice(J,1)[0]),G(T[V++],R,B),B.insertBefore(P.domRef,T[V].domRef),N++;else $(R,(u)=>{B.insertBefore(u,q.domRef)}),T.splice(V++,0,R),N++,M++}}}function t(T,E,B){let V=T.nextSibling;B.insertBefore(T,E),B.insertBefore(E,V)}function n(T,E,B){let V=T[E];T[E]=T[B],T[B]=V}function K(T,E,B,V){for(let N of E)T.addEventListener(N.name,function(M){I(M,T,B,V)},N.capture)}function W(T,E,B,V){for(let N of E)T.removeEventListener(N.name,function(M){I(M,T,B,V)},N.capture)}function I(T,E,B,V){B(function(N){if(T.target)x(T,N,e(E,T.target),[],V)})}function e(T,E){var B=[];while(T!==E)B.unshift(E),E=E.parentNode;return B}function x(T,E,B,V,N){if(!B.length){if(N)console.warn('Event "'+T.type+'" did not find an event handler to dispatch on',E,T);return}else if(B.length>1){V.unshift(E);for(let M of E.children){if(M.type==="vcomp")continue;if(M.domRef===B[1]){x(T,M,B.slice(1),V,N);break}}}else{let M=E.events[T.type];if(M){let H=M.options;if(H.preventDefault)T.preventDefault();if(M.runEvent(T),!H.stopPropagation)L(V,T)}else L(V,T)}}function L(T,E){for(let B of T)if(B.events[E.type]){let V=B.events[E.type],N=V.options;if(N.preventDefault)E.preventDefault();if(V.runEvent(E),N.stopPropagation){E.stopPropagation();break}}}function A(T,E){if(typeof T[0]==="object"){var B=[];for(var V=0;V<T.length;V++)B.push(A(T[V],E));return B}for(let J of T)E=E[J];var N;if(E instanceof Array||"length"in E&&E.localName!=="select"){N=[];for(var M=0;M<E.length;M++)N.push(A([],E[M]));return N}N={};for(var H in TT(E)){if(E.localName==="input"&&(H==="selectionDirection"||H==="selectionStart"||H==="selectionEnd"))continue;if(typeof E[H]=="string"||typeof E[H]=="number"||typeof E[H]=="boolean")N[H]=E[H]}return N}function TT(T){var E={},B=0;do{var V=Object.getOwnPropertyNames(T);for(B=0;B<V.length;B++)E[V[B]]=null}while(T=Object.getPrototypeOf(T));return E}function ET(T){var E=0,B=T.length>0?[T[0]]:[];for(var V=1;V<T.length;V++){if(B[E].type==="vtext"&&T[V].type==="vtext"){B[E].text+=T[V].text;continue}B[++E]=T[V]}return B}function BT(T){var E=0,B;if(!T)if(document.body.childNodes.length>0)B=document.body.firstChild;else B=document.body.appendChild(document.createElement("div"));else if(T.childNodes.length===0)B=T.appendChild(document.createElement("div"));else{while(T.childNodes[E]&&(T.childNodes[E].nodeType===3||T.childNodes[E].localName==="script"))E++;if(!T.childNodes[E])B=document.body.appendChild(document.createElement("div"));else B=T.childNodes[E]}return B}function g(T,E,B){let V=BT(E);if(!f(T,B,V)){if(T)console.warn("Could not copy DOM into virtual DOM, falling back to diff");while(V.firstChild)V.removeChild(V.lastChild);return B.domRef=V,S(null,B),!1}else if(T)if(!U(B))console.warn("Integrity check completed with errors");else console.info("Successfully prerendered page");return!0}function D(T,E,B){if(T)console.warn("VTree differed from node",E,B)}function w(T){if(T.substr(0,1)=="#"){let E=(T.length-1)/3,B=[17,1,0.062272][E-1];return[Math.round(parseInt(T.substr(1,E),16)*B),Math.round(parseInt(T.substr(1+E,E),16)*B),Math.round(parseInt(T.substr(1+2*E,E),16)*B)]}else return T.split("(")[1].split(")")[0].split(",").map((E)=>{return+E})}function U(T){return k(!0,T)}function k(T,E){if(E.type=="vtext"){if(E.domRef.nodeType!==3)console.warn("VText domRef not a TEXT_NODE",E),T=!1;else if(E.text!==E.domRef.textContent)console.warn("VText node content differs",E),T=!1}else{if(E.tag.toUpperCase()!==E.domRef.tagName)console.warn("Integrity check failed, tags differ",E.tag.toUpperCase(),E.domRef.tagName),T=!1;if("children"in E&&E.children.length!==E.domRef.childNodes.length)console.warn("Integrity check failed, children lengths differ",E,E.children,E.domRef.childNodes),T=!1;for(let B in E.props)if(B==="href"){let V=window.location.origin+"/"+E.props[B],N=E.domRef[B],M=E.props[B];if(V!==N&&M!==N&&M+"/"!==N&&V+"/"!==N)console.warn("Property "+B+" differs",E.props[B],E.domRef[B]),T=!1}else if(B==="height"||B==="width"){if(parseFloat(E.props[B])!==parseFloat(E.domRef[B]))console.warn("Property "+B+" differs",E.props[B],E.domRef[B]),T=!1}else if(B==="class"||B==="className"){if(E.props[B]!==E.domRef.className)console.warn("Property class differs",E.props[B],E.domRef.className),T=!1}else if(!E.domRef[B]){if(E.props[B]!==E.domRef.getAttribute(B))console.warn("Property "+B+" differs",E.props[B],E.domRef.getAttribute(B)),T=!1}else if(E.props[B]!==E.domRef[B])console.warn("Property "+B+" differs",E.props[B],E.domRef[B]),T=!1;for(let B in E.css)if(B==="color"){if(w(E.domRef.style[B]).toString()!==w(E.css[B]).toString())console.warn("Style "+B+" differs",E.css[B],E.domRef.style[B]),T=!1}else if(E.css[B]!==E.domRef.style[B])console.warn("Style "+B+" differs",E.css[B],E.domRef.style[B]),T=!1;for(let B of E.children){let V=k(T,B);T=T&&V}}return T}function f(T,E,B){switch(E.type){case"vtext":E.domRef=B;break;default:E.domRef=B,E.children=ET(E.children),_(E);for(var V=0;V<E.children.length;V++){let N=E.children[V],M=B.childNodes[V];if(!M)return D(T,N,M),!1;switch(N.type){case"vtext":if(M.nodeType!==3)return D(T,N,M),!1;if(N.text===M.textContent)N.domRef=B.childNodes[V];else return D(T,N,M),!1;break;case"vcomp":N.mount((H)=>{N.children.push(H),f(T,N,B.childNodes[V])});break;default:if(M.nodeType!==1)return!1;N.domRef=B.childNodes[V],f(T,N,N.domRef)}}}return!0}function O(T,E){var B=function(){var V=document.getElementById(T);if(V&&V.focus)V.focus()};E>0?setTimeout(B,E):B()}function h(T,E){var B=function(){var V=document.getElementById(T);if(V&&V.blur)V.blur()};E>0?setTimeout(B,E):B()}function C(T){document.body.setAttribute("data-component-id",T)}var m="1.9.0.0";globalThis.miso={};globalThis.miso.diff=G;globalThis.miso.hydrate=g;globalThis.miso.version=m;globalThis.miso.delegate=K;globalThis.miso.callBlur=h;globalThis.miso.callFocus=O;globalThis.miso.eventJSON=A;globalThis.miso.undelegate=W;globalThis.miso.integrityCheck=U;globalThis.miso.setBodyComponent=C;
