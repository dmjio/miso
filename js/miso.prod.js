var S="1.9.0.0";function T(G,K){var Q=function(){var X=document.getElementById(G);if(X&&X.focus)X.focus()};K>0?setTimeout(Q,K):Q()}function P(G,K){var Q=function(){var X=document.getElementById(G);if(X&&X.blur)X.blur()};K>0?setTimeout(Q,K):Q()}function L(G,K,Q,X,Y,_,Z){var $={method:K,headers:X};if(Q)$.body=Q;let q={},U=null;try{fetch(G,$).then((z)=>{U=z.status;for(let[H,W]of z.headers)q[H]=W;if(!z.ok)throw new Error(z.statusText);if(Z=="json")return z.json();else if(Z=="text")return z.text();else if(Z==="arrayBuffer")return z.arrayBuffer();else if(Z==="blob")return z.blob();else if(Z==="bytes")return z.bytes();else if(Z==="formData")return z.formData();else if(Z==="none")return Y({error:null,body:null,headers:q,status:U})}).then((z)=>Y({error:null,body:z,headers:q,status:U})).catch((z)=>_({error:null,body:z,headers:q,status:U}))}catch(z){_({body:null,error:z.message,headers:q,status:U})}}function R(G){if(G.children.length===0)return!1;var K=!0;for(let Q of G.children)if(!Q.key){K=!1;break}return K}function F(G){var K=function(Q){let X=null;while(Q&&Q.parentNode){if("componentId"in Q.parentNode){X=Q.parentNode.componentId;break}Q=Q.parentNode}return X};return K(G)}function f(G,K,Q,X,Y,_,Z,$,q){try{let U=new WebSocket(G);return U.onopen=function(){K()},U.onclose=function(z){Q(z)},U.onerror=function(z){console.error(z),$("WebSocket error received")},U.onmessage=function(z){if(typeof z.data==="string")try{if(q){if(X)X(z.data);return}let H=JSON.parse(z.data);if(Y)Y(H)}catch(H){if(q&&X)X(z.data);else $(H.message)}else if(z.data instanceof Blob){if(_)_(z.data)}else if(z.data instanceof ArrayBuffer){if(Z)Z(z.data)}else console.error("Received unknown message type from WebSocket",z),$("Unknown message received from WebSocket")},U}catch(U){$(U.message)}}function I(G){if(G)G.close(),G=null}function O(G,K){if(K&&G&&G.readyState===WebSocket.OPEN)G.send(K)}function C(G,K,Q,X,Y,_){try{let Z=new EventSource(G);return Z.onopen=function(){K()},Z.onerror=function(){Y("EventSource error received")},Z.onmessage=function($){try{if(_){if(Q)Q($.data);return}let q=JSON.parse($.data);if(X)X(q)}catch(q){if(_&&Q)Q($.data);else Y(q.message)}},Z}catch(Z){Y(Z.message)}}function w(G){if(G)G.close(),G=null}function k(G){var K=n(t(),G);if(!K.shouldSync)K.shouldSync=R(K);return K}function n(G,K){return Object.assign({},G,K)}function t(){return{props:{},css:{},children:[],ns:"html",domRef:null,tag:"div",key:null,events:{},onDestroyed:()=>{},onBeforeDestroyed:()=>{},onCreated:()=>{},onBeforeCreated:()=>{},shouldSync:!1,type:"vnode"}}function V(G,K,Q,X){if(!G&&!K)return;else if(!G&&K)HG(K,Q,X);else if(!K)e(G,Q,X);else if(G.type===K.type)GG(G,K,Q,X);else b(G,K,Q,X)}function b(G,K,Q,X){if(h(G),K.type==="vtext")K.domRef=X.createTextNode(K.text),X.replaceChild(Q,K.domRef,G.domRef);else g(K,X,(Y)=>{X.replaceChild(Q,Y,G.domRef)});y(G)}function e(G,K,Q){h(G),Q.removeChild(K,G.domRef),y(G)}function GG(G,K,Q,X){if(G.type==="vtext"){if(G.text!==K.text)X.setTextContent(G.domRef,K.text);K.domRef=G.domRef;return}if(K.tag===G.tag&&K.key===G.key&&K.type===G.type)K.domRef=G.domRef,D(G,K,X);else b(G,K,Q,X)}function y(G){KG(G);for(let K in G.children)y(G.children[K])}function KG(G){if(G.onDestroyed)G.onDestroyed();if(G.type==="vcomp")UG(G)}function QG(G){if(G.onBeforeDestroyed)G.onBeforeDestroyed()}function h(G){if(G.type==="vcomp"&&G.onBeforeUnmounted)G.onBeforeUnmounted();QG(G);for(let K in G.children)h(G.children[K])}function J(G,K){if(G.onCreated)G.onCreated(G.domRef);if(G.type==="vcomp")qG(G,K)}function XG(G){if(G.onBeforeCreated)G.onBeforeCreated()}function D(G,K,Q){if(K.type!=="vtext"){if(!G)G=k({});if(YG(G.props,K.props,K.domRef,K.ns==="svg",Q),ZG(G.css,K.css,K.domRef,Q),K.type==="vnode")_G(G,K,K.domRef,Q);zG(K)}}function YG(G,K,Q,X,Y){var _;for(let Z in G)if(_=K[Z],_===void 0)if(X||!(Z in Q)||Z==="disabled")Y.removeAttribute(Q,Z);else Y.setAttribute(Q,Z,"");else{if(_===G[Z]&&Z!=="checked"&&Z!=="value")continue;if(X)if(Z==="href")Y.setAttributeNS(Q,"http://www.w3.org/1999/xlink","href",_);else Y.setAttribute(Q,Z,_);else if(Z in Q&&!(Z==="list"||Z==="form"))Q[Z]=_;else Y.setAttribute(Q,Z,_)}for(let Z in K){if(G&&G[Z])continue;if(_=K[Z],X)if(Z==="href")Y.setAttributeNS(Q,"http://www.w3.org/1999/xlink","href",_);else Y.setAttribute(Q,Z,_);else if(Z in Q&&!(Z==="list"||Z==="form"))Q[Z]=K[Z];else Y.setAttribute(Q,Z,_)}}function ZG(G,K,Q,X){X.setInlineStyle(G,K,Q)}function _G(G,K,Q,X){if(G.shouldSync&&K.shouldSync)WG(G.children,K.children,Q,X);else{let Y=K.children.length>G.children.length?K.children.length:G.children.length;for(let _=0;_<Y;_++)V(G.children[_],K.children[_],Q,X)}}function $G(G,K){if(G.ns==="svg")G.domRef=K.createElementNS("http://www.w3.org/2000/svg",G.tag);else if(G.ns==="mathml")G.domRef=K.createElementNS("http://www.w3.org/1998/Math/MathML",G.tag);else G.domRef=K.createElement(G.tag)}function g(G,K,Q){XG(G),$G(G,K),J(G,K),Q(G.domRef),D(null,G,K)}function zG(G){if(G.tag==="canvas"&&"draw"in G)G.draw(G.domRef)}function UG(G){if("onUnmounted"in G)G.onUnmounted(G.domRef);G.unmount(G.domRef)}function qG(G,K){if(G.onBeforeMounted)G.onBeforeMounted();G.mount(G.domRef,(Q,X)=>{if(G.children.push(X),K.appendChild(G.domRef,X.domRef),G.onMounted)G.onMounted(G.domRef)})}function HG(G,K,Q){if(G.type==="vtext")G.domRef=Q.createTextNode(G.text),Q.appendChild(K,G.domRef);else g(G,Q,(X)=>{Q.appendChild(K,X)})}function WG(G,K,Q,X){var Y=0,_=0,Z=G.length-1,$=K.length-1,q,U,z,H,W,M,j;for(;;){if(_>$&&Y>Z)break;if(U=K[_],z=K[$],W=G[Y],H=G[Z],Y>Z)V(null,U,Q,X),X.insertBefore(Q,U.domRef,W?W.domRef:null),G.splice(_,0,U),_++;else if(_>$){q=Z;while(Z>=Y)X.removeChild(Q,G[Z--].domRef);G.splice(Y,q-Y+1);break}else if(W.key===U.key)V(G[Y++],K[_++],Q,X);else if(H.key===z.key)V(G[Z--],K[$--],Q,X);else if(W.key===z.key&&U.key===H.key)X.swapDOMRefs(H.domRef,W.domRef,Q),VG(G,Y,Z),V(G[Y++],K[_++],Q,X),V(G[Z--],K[$--],Q,X);else if(W.key===z.key)X.insertBefore(Q,W.domRef,X.nextSibling(H.domRef)),G.splice(Z,0,G.splice(Y,1)[0]),V(G[Z--],K[$--],Q,X);else if(H.key===U.key)X.insertBefore(Q,H.domRef,W.domRef),G.splice(Y,0,G.splice(Z,1)[0]),V(G[Y++],U,Q,X),_++;else{M=!1,q=Y;while(q<=Z){if(G[q].key===U.key){M=!0,j=G[q];break}q++}if(M)G.splice(Y,0,G.splice(q,1)[0]),V(G[Y++],U,Q,X),X.insertBefore(Q,j.domRef,G[Y].domRef),_++;else g(U,X,(o)=>{X.insertBefore(Q,o,W.domRef)}),G.splice(Y++,0,U),_++,Z++}}}function VG(G,K,Q){let X=G[K];G[K]=G[Q],G[Q]=X}function E(G,K,Q,X,Y){for(let _ of K)Y.addEventListener(G,_.name,function(Z){l(Z,G,Q,X,Y)},_.capture)}function B(G,K,Q,X,Y){for(let _ of K)Y.removeEventListener(G,_.name,function(Z){l(Z,G,Q,X,Y)},_.capture)}function l(G,K,Q,X,Y){Q(function(_){if(Array.isArray(G))for(let Z of G)v(Z,_,K,X,Y);else v(G,_,K,X,Y)})}function v(G,K,Q,X,Y){var _=Y.getTarget(G);if(_){var Z=RG(Q,_,Y);x(G,K,Z,[],X,Y)}}function RG(G,K,Q){var X=[];while(!Q.isEqual(G,K))if(X.unshift(K),K&&Q.parentNode(K))K=Q.parentNode(K);else return X;return X}function x(G,K,Q,X,Y,_){if(!Q.length){if(Y)console.warn('Event "'+G.type+'" did not find an event handler to dispatch on',K,G);return}else if(Q.length>1){X.unshift(K);for(var Z in K.children){var $=K.children[Z];if($.type==="vcomp")continue;if(_.isEqual($.domRef,Q[1])){x(G,$,Q.slice(1),X,Y,_);break}}}else{let q=K.events[G.type];if(q){let U=q.options;if(U.preventDefault)G.preventDefault();if(q.runEvent(G,Q[0]),!U.stopPropagation)i(X,G)}else i(X,G)}}function i(G,K){for(let Q of G)if(Q.events[K.type]){let X=Q.events[K.type],Y=X.options;if(Y.preventDefault)K.preventDefault();if(X.runEvent(K,Q.domRef),Y.stopPropagation){K.stopPropagation();break}}}function A(G,K){if(typeof G[0]==="object"){var Q=[];for(var X=0;X<G.length;X++)Q.push(A(G[X],K));return Q}for(let $ of G)K=K[$];var Y;if(K instanceof Array||"length"in K&&K.localName!=="select"){Y=[];for(var _=0;_<K.length;_++)Y.push(A([],K[_]));return Y}Y={};for(var Z in AG(K)){if(K.localName==="input"&&(Z==="selectionDirection"||Z==="selectionStart"||Z==="selectionEnd"))continue;if(typeof K[Z]=="string"||typeof K[Z]=="number"||typeof K[Z]=="boolean")Y[Z]=K[Z]}return Y}function AG(G){var K={},Q=0;do{var X=Object.getOwnPropertyNames(G);for(Q=0;Q<X.length;Q++)K[X[Q]]=null}while(G=Object.getPrototypeOf(G));return K}function JG(G){var K=0,Q=G.length>0?[G[0]]:[];for(var X=1;X<G.length;X++){if(Q[K].type==="vtext"&&G[X].type==="vtext"){Q[K].text+=G[X].text;continue}Q[++K]=G[X]}return Q}function DG(G,K){var Q=0,X,Y=K.getRoot();if(!G)if(Y.childNodes.length>0)X=Y.firstChild;else X=Y.appendChild(K.createElement("div"));else if(G.childNodes.length===0)X=G.appendChild(K.createElement("div"));else{while(G.childNodes[Q]&&(G.childNodes[Q].nodeType===3||G.childNodes[Q].localName==="script"))Q++;if(!G.childNodes[Q])X=Y.appendChild(K.createElement("div"));else X=G.childNodes[Q]}return X}function u(G,K,Q,X,Y){let _=DG(K,Y);if(!a(G,Q,_,X,Y)){if(G)console.warn("[DEBUG_HYDRATE] Could not copy DOM into virtual DOM, falling back to diff");while(X.firstChild(_))Y.removeChild(_,X.lastChild(_));return Q.domRef=_,D(null,Q,Y),!1}else if(G)if(!N(Q,X,Y))console.warn("[DEBUG_HYDRATE] Integrity check completed with errors");else console.info("[DEBUG_HYDRATE] Successfully prerendered page");return!0}function m(G,K,Q){if(G)console.warn("[DEBUG_HYDRATE] VTree differed from node",K,Q)}function p(G){if(G.substr(0,1)=="#"){let K=(G.length-1)/3,Q=[17,1,0.062272][K-1];return[Math.round(parseInt(G.substr(1,K),16)*Q),Math.round(parseInt(G.substr(1+K,K),16)*Q),Math.round(parseInt(G.substr(1+2*K,K),16)*Q)]}else return G.split("(")[1].split(")")[0].split(",").map((K)=>{return+K})}function N(G,K,Q){return d(!0,G,K,Q)}function d(G,K,Q,X){if(K.type=="vtext"){if(Q.getTag(K.domRef)!=="#text")console.warn("VText domRef not a TEXT_NODE",K),G=!1;else if(K.text!==Q.getTextContent(K.domRef))console.warn("VText node content differs",K),G=!1}else{if(K.tag.toUpperCase()!==Q.getTag(K.domRef).toUpperCase())console.warn("Integrity check failed, tags differ",K.tag.toUpperCase(),Q.getTag(K.domRef)),G=!1;if("children"in K&&K.children.length!==Q.children(K.domRef).length)console.warn("Integrity check failed, children lengths differ",K,K.children,Q.children(K.domRef)),G=!1;for(let Y in K.props)if(Y==="href"||Y==="src"){let _=window.location.origin+"/"+K.props[Y],Z=Q.getAttribute(K.domRef,Y),$=K.props[Y];if(_!==Z&&$!==Z&&$+"/"!==Z&&_+"/"!==Z)console.warn("Property "+Y+" differs",K.props[Y],Q.getAttribute(K.domRef,Y)),G=!1}else if(Y==="height"||Y==="width"){if(parseFloat(K.props[Y])!==parseFloat(Q.getAttribute(K.domRef,Y)))console.warn("Property "+Y+" differs",K.props[Y],Q.getAttribute(K.domRef,Y)),G=!1}else if(Y==="class"||Y==="className"){if(K.props[Y]!==Q.getAttribute(K.domRef,"class"))console.warn("Property class differs",K.props[Y],Q.getAttribute(K.domRef,"class")),G=!1}else if(K.props[Y]!==Q.getAttribute(K.domRef,Y))console.warn("Property "+Y+" differs",K.props[Y],Q.getAttribute(K.domRef,Y)),G=!1;for(let Y in K.css)if(Y==="color"){if(p(Q.getInlineStyle(K.domRef,Y)).toString()!==p(K.css[Y]).toString())console.warn("Style "+Y+" differs",K.css[Y],Q.getInlineStyle(K.domRef,Y)),G=!1}else if(K.css[Y]!==Q.getInlineStyle(K.domRef,Y))console.warn("Style "+Y+" differs",K.css[Y],Q.getInlineStyle(K.domRef,Y)),G=!1;for(let Y of K.children){let _=d(G,Y,Q,X);G=G&&_}}return G}function a(G,K,Q,X,Y){switch(K.type){case"vcomp":K.domRef=Q,J(K,Y);break;case"vtext":K.domRef=Q;break;default:K.domRef=Q,K.children=JG(K.children),J(K,Y);for(var _=0;_<K.children.length;_++){let Z=K.children[_],$=Q.childNodes[_];if(!$)return m(G,Z,$),!1;switch(Z.type){case"vtext":if($.nodeType!==3)return m(G,Z,$),!1;if(Z.text===$.textContent)Z.domRef=X.children(Q)[_];else return m(G,Z,$),!1;break;default:if($.nodeType!==1)return!1;Z.domRef=$,a(G,Z,$,X,Y);break}}}return!0}var c={addEventListener:(G,K,Q,X)=>{G.addEventListener(K,Q,X)},removeEventListener:(G,K,Q,X)=>{G.removeEventListener(K,Q,X)},isEqual:(G,K)=>{return G===K},getTarget:(G)=>{return G.target},parentNode:(G)=>{return G.parentNode}},s={getInlineStyle:(G,K)=>{return G.style[K]},firstChild:(G)=>{return G.firstChild},lastChild:(G)=>{return G.lastChild},getAttribute:(G,K)=>{if(K==="class")return G.className;if(K in G)return G[K];return G.getAttribute(K)},getTag:(G)=>{return G.nodeName},getTextContent:(G)=>{return G.textContent},children:(G)=>{return G.childNodes}},r={nextSibling:(G)=>{return G.nextSibling},createTextNode:(G)=>{return document.createTextNode(G)},createElementNS:(G,K)=>{return document.createElementNS(G,K)},appendChild:(G,K)=>{return G.appendChild(K)},replaceChild:(G,K,Q)=>{return G.replaceChild(K,Q)},removeChild:(G,K)=>{return G.removeChild(K)},createElement:(G)=>{return document.createElement(G)},insertBefore:(G,K,Q)=>{return G.insertBefore(K,Q)},swapDOMRefs:(G,K,Q)=>{let X=G.nextSibling;Q.insertBefore(G,K),Q.insertBefore(K,X);return},setInlineStyle:(G,K,Q)=>{var X;for(let Y in G)if(X=K[Y],!X)Q.style[Y]="";else if(X!==G[Y])Q.style[Y]=X;for(let Y in K){if(G&&G[Y])continue;Q.style[Y]=K[Y]}return},setAttribute:(G,K,Q)=>{return G.setAttribute(K,Q)},setAttributeNS:(G,K,Q,X)=>{return G.setAttributeNS(K,Q,X)},removeAttribute:(G,K)=>{return G.removeAttribute(K)},setTextContent:(G,K)=>{G.textContent=K;return},flush:()=>{return},getRoot:function(){return document.body}};globalThis.miso={};globalThis.miso.hydrationContext=s;globalThis.miso.eventContext=c;globalThis.miso.drawingContext=r;globalThis.miso.diff=V;globalThis.miso.hydrate=u;globalThis.miso.version=S;globalThis.miso.delegate=E;globalThis.miso.callBlur=P;globalThis.miso.callFocus=T;globalThis.miso.eventJSON=A;globalThis.miso.fetchCore=L;globalThis.miso.eventSourceConnect=C;globalThis.miso.eventSourceClose=w;globalThis.miso.websocketConnect=f;globalThis.miso.websocketClose=I;globalThis.miso.websocketSend=O;globalThis.miso.undelegate=B;globalThis.miso.getParentComponentId=F;globalThis.miso.shouldSync=R;globalThis.miso.integrityCheck=N;globalThis.miso.setDrawingContext=function(G){let K=globalThis[G].drawingContext,Q=globalThis[G].eventContext;if(!K)console.warn("Custom rendering engine is not defined",G,globalThis[G].drawingContext);else if(!Q)console.warn("Custom event delegation is not defined",G,globalThis[G].eventContext);else globalThis.miso.drawingContext=K,globalThis.miso.eventContext=Q};
