function Y(T){return p(c(),T)}function p(T,E){return Object.assign({},T,E)}function c(){return{props:{},css:{},children:[],ns:"html",domRef:null,tag:"div",key:null,events:{},onDestroyed:()=>{},onBeforeDestroyed:()=>{},onCreated:()=>{},type:"vnode"}}function H(T,E,V){if(!T&&!E)return;else if(!T&&E)TT(E,V);else if(!E)l(T,V);else if(T.type===E.type)a(T,E,V);else y(T,E,V)}function y(T,E,V){if(_(T),E.type==="vtext")E.domRef=document.createTextNode(E.text),V.replaceChild(E.domRef,T.domRef);else K(E,(N)=>{V.replaceChild(N,T.domRef)});Z(T)}function l(T,E){_(T),E.removeChild(T.domRef),Z(T)}function a(T,E,V){if(T.type==="vtext"){if(T.text!==E.text)T.domRef.textContent=E.text;E.domRef=T.domRef;return}if(T.tag===E.tag&&E.key===T.key&&E["data-component-id"]===T["data-component-id"])E.domRef=T.domRef,A(T,E);else y(T,E,V)}function Z(T){v(T);for(let E in T.children)Z(T.children[E])}function v(T){if(T.onDestroyed)T.onDestroyed();if(T.type==="vcomp")n(T)}function b(T){if(T.vtype==="vcomp"&&"onBeforeUnmounted"in T)T.onBeforeUnmounted();if(T.onBeforeDestroyed)T.onBeforeDestroyed()}function _(T){b(T);for(let E in T.children)_(T.children[E])}function $(T){if(T.onCreated)T.onCreated();if(T.type==="vcomp")e(T)}function j(T){if(T.onBeforeCreated)T.onBeforeCreated()}function A(T,E){if(E.type!=="vtext"){if(!T)T=Y({});if(d(T.props,E.props,E.domRef,E.ns==="svg"),s(T.css,E.css,E.domRef),E.type==="vnode")o(T.children,E.children,E.domRef)}}function d(T,E,V,N){var B;for(let M in T)if(B=E[M],B===void 0)if(N||!(M in V))V.removeAttribute(T[M]);else V[M]="";else{if(B===T[M]&&M!=="checked"&&M!=="value")continue;if(N)if(M==="href")V.setAttributeNS("http://www.w3.org/1999/xlink","href",B);else V.setAttribute(M,B);else if(M in V&&!(M==="list"||M==="form"))V[M]=B;else V.setAttribute(M,B)}for(let M in E){if(T&&T[M])continue;if(B=E[M],N)if(M==="href")V.setAttributeNS("http://www.w3.org/1999/xlink","href",B);else V.setAttribute(M,B);else if(M in V&&!(M==="list"||M==="form"))V[M]=E[M];else V.setAttribute(M,B)}}function s(T,E,V){var N;for(let B in T)if(N=E[B],!N)V.style[B]="";else if(N!==T[B])V.style[B]=N;for(let B in E){if(T&&T[B])continue;V.style[B]=E[B]}}function r(T,E){return T.length>0&&E.length>0&&T[0].key!=null&&E[0].key!=null}function o(T,E,V){let N=E.length>T.length?E.length:T.length;if(r(E,T))ET(T,E,V);else for(var B=0;B<N;B++)H(T[B],E[B],V)}function t(T){if(T.ns==="svg")T.domRef=document.createElementNS("http://www.w3.org/2000/svg",T.tag);else if(T.ns==="mathml")T.domRef=document.createElementNS("http://www.w3.org/1998/Math/MathML",T.tag);else T.domRef=document.createElement(T.tag)}function K(T,E){j(T),t(T),E(T.domRef),A(null,T),$(T)}function n(T){if("onUnmounted"in T)T.onUnmounted();T.unmount()}function e(T){let E=T["data-component-id"];if(document.querySelectorAll("[data-component-id='"+E+"']").length>0){console.error('AlreadyMountedException: Component "'+E+"' is already mounted");return}if(T.domRef.setAttribute("data-component-id",E),T.onBeforeMounted)T.onBeforeMounted();T.mount((N)=>{if(T.children.push(N),T.domRef.appendChild(N.domRef),T.onMounted)T.onMounted()})}function TT(T,E){if(T.type==="vtext")T.domRef=document.createTextNode(T.text),E.appendChild(T.domRef);else K(T,(V)=>{E.appendChild(V)})}function ET(T,E,V){var N=0,B=0,M=T.length-1,J=E.length-1,R,S,z,G,U,X,L;for(;;){if(B>J&&N>M)break;if(S=E[B],z=E[J],U=T[N],G=T[M],N>M)H(null,S,V),V.insertBefore(S.domRef,U?U.domRef:null),T.splice(B,0,S),B++;else if(B>J){R=M;while(M>=N)V.removeChild(T[M--].domRef);T.splice(N,R-N+1);break}else if(U.key===S.key)H(T[N++],E[B++],V);else if(G.key===z.key)H(T[M--],E[J--],V);else if(U.key===z.key&&S.key===G.key)VT(G.domRef,U.domRef,V),NT(T,N,M),H(T[N++],E[B++],V),H(T[M--],E[J--],V);else if(U.key===z.key)V.insertBefore(U.domRef,G.domRef.nextSibling),T.splice(M,0,T.splice(N,1)[0]),H(T[M--],E[J--],V);else if(G.key===S.key)V.insertBefore(G.domRef,U.domRef),T.splice(N,0,T.splice(M,1)[0]),H(T[N++],S,V),B++;else{X=!1,R=N;while(R<=M){if(T[R].key===S.key){X=!0,L=T[R];break}R++}if(X)T.splice(N,0,T.splice(R,1)[0]),H(T[N++],S,V),V.insertBefore(L.domRef,T[N].domRef),B++;else K(S,(i)=>{V.insertBefore(i,U.domRef)}),T.splice(N++,0,S),B++,M++}}}function VT(T,E,V){let N=T.nextSibling;V.insertBefore(T,E),V.insertBefore(E,N)}function NT(T,E,V){let N=T[E];T[E]=T[V],T[V]=N}function W(T,E,V,N){for(let B of E)T.addEventListener(B.name,function(M){x(M,T,V,N)},B.capture)}function f(T,E,V,N){for(let B of E)T.removeEventListener(B.name,function(M){x(M,T,V,N)},B.capture)}function x(T,E,V,N){V(function(B){if(T.target)w(T,B,BT(E,T.target),[],N)})}function BT(T,E){var V=[];while(T!==E)V.unshift(E),E=E.parentNode;return V}function w(T,E,V,N,B){if(!V.length){if(B)console.warn('Event "'+T.type+'" did not find an event handler to dispatch on',E,T);return}else if(V.length>1){N.unshift(E);for(let M of E.children){if(M.type==="vcomp")continue;if(M.domRef===V[1]){w(T,M,V.slice(1),N,B);break}}}else{let M=E.events[T.type];if(M){let J=M.options;if(J.preventDefault)T.preventDefault();if(M.runEvent(T),!J.stopPropagation)I(N,T)}else I(N,T)}}function I(T,E){for(let V of T)if(V.events[E.type]){let N=V.events[E.type],B=N.options;if(B.preventDefault)E.preventDefault();if(N.runEvent(E),B.stopPropagation){E.stopPropagation();break}}}function q(T,E){if(typeof T[0]==="object"){var V=[];for(var N=0;N<T.length;N++)V.push(q(T[N],E));return V}for(let R of T)E=E[R];var B;if(E instanceof Array||"length"in E&&E.localName!=="select"){B=[];for(var M=0;M<E.length;M++)B.push(q([],E[M]));return B}B={};for(var J in MT(E)){if(E.localName==="input"&&(J==="selectionDirection"||J==="selectionStart"||J==="selectionEnd"))continue;if(typeof E[J]=="string"||typeof E[J]=="number"||typeof E[J]=="boolean")B[J]=E[J]}return B}function MT(T){var E={},V=0;do{var N=Object.getOwnPropertyNames(T);for(V=0;V<N.length;V++)E[N[V]]=null}while(T=Object.getPrototypeOf(T));return E}function JT(T){var E=0,V=T.length>0?[T[0]]:[];for(var N=1;N<T.length;N++){if(V[E].type==="vtext"&&T[N].type==="vtext"){V[E].text+=T[N].text;continue}V[++E]=T[N]}return V}function ST(T){var E=0,V;if(!T)if(document.body.childNodes.length>0)V=document.body.firstChild;else V=document.body.appendChild(document.createElement("div"));else if(T.childNodes.length===0)V=T.appendChild(document.createElement("div"));else{while(T.childNodes[E]&&(T.childNodes[E].nodeType===3||T.childNodes[E].localName==="script"))E++;if(!T.childNodes[E])V=document.body.appendChild(document.createElement("div"));else V=T.childNodes[E]}return V}function g(T,E,V){let N=ST(E);if(!h(T,V,N)){if(T)console.warn("Could not copy DOM into virtual DOM, falling back to diff");while(N.firstChild)N.removeChild(N.lastChild);return V.domRef=N,A(null,V),!1}else if(T)if(!Q(V))console.warn("Integrity check completed with errors");else console.info("Successfully prerendered page");return!0}function D(T,E,V){if(T)console.warn("VTree differed from node",E,V)}function k(T){if(T.substr(0,1)=="#"){let E=(T.length-1)/3,V=[17,1,0.062272][E-1];return[Math.round(parseInt(T.substr(1,E),16)*V),Math.round(parseInt(T.substr(1+E,E),16)*V),Math.round(parseInt(T.substr(1+2*E,E),16)*V)]}else return T.split("(")[1].split(")")[0].split(",").map((E)=>{return+E})}function Q(T){return u(!0,T)}function u(T,E){if(E.type=="vtext"){if(E.domRef.nodeType!==3)console.warn("VText domRef not a TEXT_NODE",E),T=!1;else if(E.text!==E.domRef.textContent)console.warn("VText node content differs",E),T=!1}else{if(E.tag.toUpperCase()!==E.domRef.tagName)console.warn("Integrity check failed, tags differ",E.tag.toUpperCase(),E.domRef.tagName),T=!1;if("children"in E&&E.children.length!==E.domRef.childNodes.length)console.warn("Integrity check failed, children lengths differ",E,E.children,E.domRef.childNodes),T=!1;for(let V in E.props)if(V==="href"){let N=window.location.origin+"/"+E.props[V],B=E.domRef[V],M=E.props[V];if(N!==B&&M!==B&&M+"/"!==B&&N+"/"!==B)console.warn("Property "+V+" differs",E.props[V],E.domRef[V]),T=!1}else if(V==="height"||V==="width"){if(parseFloat(E.props[V])!==parseFloat(E.domRef[V]))console.warn("Property "+V+" differs",E.props[V],E.domRef[V]),T=!1}else if(V==="class"||V==="className"){if(E.props[V]!==E.domRef.className)console.warn("Property class differs",E.props[V],E.domRef.className),T=!1}else if(!E.domRef[V]){if(E.props[V]!==E.domRef.getAttribute(V))console.warn("Property "+V+" differs",E.props[V],E.domRef.getAttribute(V)),T=!1}else if(E.props[V]!==E.domRef[V])console.warn("Property "+V+" differs",E.props[V],E.domRef[V]),T=!1;for(let V in E.css)if(V==="color"){if(k(E.domRef.style[V]).toString()!==k(E.css[V]).toString())console.warn("Style "+V+" differs",E.css[V],E.domRef.style[V]),T=!1}else if(E.css[V]!==E.domRef.style[V])console.warn("Style "+V+" differs",E.css[V],E.domRef.style[V]),T=!1;for(let V of E.children){let N=u(T,V);T=T&&N}}return T}function h(T,E,V){switch(E.type){case"vtext":E.domRef=V;break;default:E.domRef=V,E.children=JT(E.children),$(E);for(var N=0;N<E.children.length;N++){let B=E.children[N],M=V.childNodes[N];if(!M)return D(T,B,M),!1;switch(B.type){case"vtext":if(M.nodeType!==3)return D(T,B,M),!1;if(B.text===M.textContent)B.domRef=V.childNodes[N];else return D(T,B,M),!1;break;case"vcomp":B.mount((J)=>{B.children.push(J),h(T,B,V.childNodes[N])});break;default:if(M.nodeType!==1)return!1;B.domRef=V.childNodes[N],h(T,B,B.domRef)}}}return!0}function O(T,E){var V=function(){var N=document.getElementById(T);if(N&&N.focus)N.focus()};E>0?setTimeout(V,E):V()}function C(T,E){var V=function(){var N=document.getElementById(T);if(N&&N.blur)N.blur()};E>0?setTimeout(V,E):V()}function m(T){document.body.setAttribute("data-component-id",T)}function P(T,E){fetch(T,{headers:{"Content-Type":"application/json"}}).then((N)=>N.json()).then(E).catch((N)=>console.error(N))}var F="1.9.0.0";globalThis.miso={};globalThis.miso.diff=H;globalThis.miso.hydrate=g;globalThis.miso.version=F;globalThis.miso.delegate=W;globalThis.miso.callBlur=C;globalThis.miso.callFocus=O;globalThis.miso.eventJSON=q;globalThis.miso.fetchJSON=P;globalThis.miso.undelegate=f;globalThis.miso.integrityCheck=Q;globalThis.miso.setBodyComponent=m;
