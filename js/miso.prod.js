var D="1.9.0.0";function B(q,z){var G=function(){var H=document.getElementById(q);if(H&&H.focus)H.focus()};z>0?setTimeout(G,z):G()}function S(q,z){var G=function(){var H=document.getElementById(q);if(H&&H.blur)H.blur()};z>0?setTimeout(G,z):G()}function E(q,z,G,H,K,X){var Q={method:z,headers:H};if(G)Q.body=G;fetch(q,Q).then((Y)=>{if(!Y.ok)throw new Error(Y.statusText);return Y.json()}).then(K).catch(X)}function T(q){if(q.children.length===0)return!1;var z=!0;for(let G of q.children)if(!G.key){z=!1;break}return z}function M(q){var z=function(G){let H=null;while(G&&G.parentNode){if("componentId"in G.parentNode){H=G.parentNode.componentId;break}G=G.parentNode}return H};return z(q)}function f(q,z,G,H,K,X,Q,Y,_){try{let Z=new WebSocket(q);return Z.onopen=function(){z()},Z.onclose=function($){G($)},Z.onerror=function($){console.error($),Y("WebSocket error received")},Z.onmessage=function($){if(typeof $.data==="string")try{if(_){if(H)H($.data);return}let W=JSON.parse($.data);if(K)K(W)}catch(W){if(_&&H)H($.data);else Y(W.message)}else if($.data instanceof Blob){if(X)X($.data)}else if($.data instanceof ArrayBuffer){if(Q)Q($.data)}else console.error("Received unknown message type from WebSocket",$),Y("Unknown message received from WebSocket")},Z}catch(Z){Y(Z.message)}}function P(q){if(q)q.close(),q=null}function C(q,z){if(z&&q&&q.readyState===WebSocket.OPEN)q.send(z)}function h(q,z,G,H,K,X){try{let Q=new EventSource(q);return Q.onopen=function(){z()},Q.onerror=function(){K("EventSource error received")},Q.onmessage=function(Y){try{if(X){if(G)G(Y.data);return}let _=JSON.parse(Y.data);if(H)H(_)}catch(_){if(X&&G)G(Y.data);else K(_.message)}},Q}catch(Q){K(Q.message)}}function F(q){if(q)q.close(),q=null}function L(q){var z=r(o(),q);if(!z.shouldSync)z.shouldSync=T(z);return z}function r(q,z){return Object.assign({},q,z)}function o(){return{props:{},css:{},children:[],ns:"html",domRef:null,tag:"div",key:null,events:{},onDestroyed:()=>{},onBeforeDestroyed:()=>{},onCreated:()=>{},onBeforeCreated:()=>{},shouldSync:!1,type:"vnode"}}function U(q,z,G,H){if(!q&&!z)return;else if(!q&&z)_q(z,G,H);else if(!z)n(q,G,H);else if(q.type===z.type)t(q,z,G,H);else l(q,z,G,H)}function l(q,z,G,H){if(I(q),z.type==="vtext")z.domRef=H.createTextNode(z.text),H.replaceChild(G,z.domRef,q.domRef);else g(z,H,(K)=>{H.replaceChild(G,K,q.domRef)});w(q)}function n(q,z,G){I(q),G.removeChild(z,q.domRef),w(q)}function t(q,z,G,H){if(q.type==="vtext"){if(q.text!==z.text)H.setTextContent(q.domRef,z.text);z.domRef=q.domRef;return}if(z.tag===q.tag&&z.key===q.key&&z.type===q.type)z.domRef=q.domRef,A(q,z,H);else l(q,z,G,H)}function w(q){e(q);for(let z in q.children)w(q.children[z])}function e(q){if(q.onDestroyed)q.onDestroyed();if(q.type==="vcomp")Yq(q)}function qq(q){if(q.onBeforeDestroyed)q.onBeforeDestroyed()}function I(q){if(q.type==="vcomp"&&q.onBeforeUnmounted)q.onBeforeUnmounted();qq(q);for(let z in q.children)I(q.children[z])}function O(q,z){if(q.onCreated)q.onCreated(q.domRef);if(q.type==="vcomp")Zq(q,z)}function zq(q){if(q.onBeforeCreated)q.onBeforeCreated()}function A(q,z,G){if(z.type!=="vtext"){if(!q)q=L({});if(Gq(q.props,z.props,z.domRef,z.ns==="svg",G),Hq(q.css,z.css,z.domRef,G),z.type==="vnode")Kq(q,z,z.domRef,G);Xq(z)}}function Gq(q,z,G,H,K){var X;for(let Q in q)if(X=z[Q],X===void 0)if(H||!(Q in G)||Q==="disabled")K.removeAttribute(G,Q);else K.setAttribute(G,Q,"");else{if(X===q[Q]&&Q!=="checked"&&Q!=="value")continue;if(H)if(Q==="href")K.setAttributeNS(G,"http://www.w3.org/1999/xlink","href",X);else K.setAttribute(G,Q,X);else if(Q in G&&!(Q==="list"||Q==="form"))G[Q]=X;else K.setAttribute(G,Q,X)}for(let Q in z){if(q&&q[Q])continue;if(X=z[Q],H)if(Q==="href")K.setAttributeNS(G,"http://www.w3.org/1999/xlink","href",X);else K.setAttribute(G,Q,X);else if(Q in G&&!(Q==="list"||Q==="form"))G[Q]=z[Q];else K.setAttribute(G,Q,X)}}function Hq(q,z,G,H){H.setInlineStyle(q,z,G)}function Kq(q,z,G,H){if(q.shouldSync&&z.shouldSync)$q(q.children,z.children,G,H);else{let K=z.children.length>q.children.length?z.children.length:q.children.length;for(let X=0;X<K;X++)U(q.children[X],z.children[X],G,H)}}function Qq(q,z){if(q.ns==="svg")q.domRef=z.createElementNS("http://www.w3.org/2000/svg",q.tag);else if(q.ns==="mathml")q.domRef=z.createElementNS("http://www.w3.org/1998/Math/MathML",q.tag);else q.domRef=z.createElement(q.tag)}function g(q,z,G){zq(q),Qq(q,z),O(q,z),G(q.domRef),A(null,q,z)}function Xq(q){if(q.tag==="canvas"&&"draw"in q)q.draw(q.domRef)}function Yq(q){if("onUnmounted"in q)q.onUnmounted(q.domRef);q.unmount(q.domRef)}function Zq(q,z){if(q.onBeforeMounted)q.onBeforeMounted();q.mount(q.domRef,(G,H)=>{if(q.children.push(H),z.appendChild(q.domRef,H.domRef),q.onMounted)q.onMounted(q.domRef)})}function _q(q,z,G){if(q.type==="vtext")q.domRef=G.createTextNode(q.text),G.appendChild(z,q.domRef);else g(q,G,(H)=>{G.appendChild(z,H)})}function $q(q,z,G,H){var K=0,X=0,Q=q.length-1,Y=z.length-1,_,Z,$,W,J,N,p;for(;;){if(X>Y&&K>Q)break;if(Z=z[X],$=z[Y],J=q[K],W=q[Q],K>Q)U(null,Z,G,H),H.insertBefore(G,Z.domRef,J?J.domRef:null),q.splice(X,0,Z),X++;else if(X>Y){_=Q;while(Q>=K)H.removeChild(G,q[Q--].domRef);q.splice(K,_-K+1);break}else if(J.key===Z.key)U(q[K++],z[X++],G,H);else if(W.key===$.key)U(q[Q--],z[Y--],G,H);else if(J.key===$.key&&Z.key===W.key)H.swapDOMRefs(W.domRef,J.domRef,G),Uq(q,K,Q),U(q[K++],z[X++],G,H),U(q[Q--],z[Y--],G,H);else if(J.key===$.key)H.insertBefore(G,J.domRef,W.domRef.nextSibling),q.splice(Q,0,q.splice(K,1)[0]),U(q[Q--],z[Y--],G,H);else if(W.key===Z.key)H.insertBefore(G,W.domRef,J.domRef),q.splice(K,0,q.splice(Q,1)[0]),U(q[K++],Z,G,H),X++;else{N=!1,_=K;while(_<=Q){if(q[_].key===Z.key){N=!0,p=q[_];break}_++}if(N)q.splice(K,0,q.splice(_,1)[0]),U(q[K++],Z,G,H),H.insertBefore(G,p.domRef,q[K].domRef),X++;else g(Z,H,(s)=>{H.insertBefore(G,s,J.domRef)}),q.splice(K++,0,Z),X++,Q++}}}function Uq(q,z,G){let H=q[z];q[z]=q[G],q[G]=H}function m(q,z,G,H,K){for(let X of z)K.addEventListener(q,X.name,function(Q){v(Q,q,G,H,K)},X.capture)}function y(q,z,G,H,K){for(let X of z)q.removeEventListener(X.name,function(Q){v(Q,q,G,H,K)},X.capture)}function v(q,z,G,H,K){G(function(X){if(Array.isArray(q))for(let Q of q)b(Q,X,z,H,K);else b(q,X,z,H,K)})}function b(q,z,G,H,K){var X=K.getTarget(q);if(X){var Q=Wq(G,X,K);a(q,z,Q,[],H,K)}}function Wq(q,z,G){var H=[];while(!G.isEqual(q,z))if(H.unshift(z),z&&G.parentNode(z))z=G.parentNode(z);else return H;return H}function a(q,z,G,H,K,X){if(!G.length){if(K)console.warn('Event "'+q.type+'" did not find an event handler to dispatch on',z,q);return}else if(G.length>1){H.unshift(z);for(var Q in z.children){var Y=z.children[Q];if(Y.type==="vcomp")continue;if(X.isEqual(Y.domRef,G[1])){a(q,Y,G.slice(1),H,K,X);break}}}else{let _=z.events[q.type];if(_){let Z=_.options;if(Z.preventDefault)q.preventDefault();if(_.runEvent(q,G[0]),!Z.stopPropagation)j(H,q)}else j(H,q)}}function j(q,z){for(let G of q)if(G.events[z.type]){let H=G.events[z.type],K=H.options;if(K.preventDefault)z.preventDefault();if(H.runEvent(z,G.domRef),K.stopPropagation){z.stopPropagation();break}}}function V(q,z){if(typeof q[0]==="object"){var G=[];for(var H=0;H<q.length;H++)G.push(V(q[H],z));return G}for(let Y of q)z=z[Y];var K;if(z instanceof Array||"length"in z&&z.localName!=="select"){K=[];for(var X=0;X<z.length;X++)K.push(V([],z[X]));return K}K={};for(var Q in Jq(z)){if(z.localName==="input"&&(Q==="selectionDirection"||Q==="selectionStart"||Q==="selectionEnd"))continue;if(typeof z[Q]=="string"||typeof z[Q]=="number"||typeof z[Q]=="boolean")K[Q]=z[Q]}return K}function Jq(q){var z={},G=0;do{var H=Object.getOwnPropertyNames(q);for(G=0;G<H.length;G++)z[H[G]]=null}while(q=Object.getPrototypeOf(q));return z}function Tq(q){var z=0,G=q.length>0?[q[0]]:[];for(var H=1;H<q.length;H++){if(G[z].type==="vtext"&&q[H].type==="vtext"){G[z].text+=q[H].text;continue}G[++z]=q[H]}return G}function Vq(q,z){var G=0,H,K=z.getRoot();if(!q)if(K.childNodes.length>0)H=K.firstChild;else H=K.appendChild(z.createElement("div"));else if(q.childNodes.length===0)H=q.appendChild(z.createElement("div"));else{while(q.childNodes[G]&&(q.childNodes[G].nodeType===3||q.childNodes[G].localName==="script"))G++;if(!q.childNodes[G])H=K.appendChild(z.createElement("div"));else H=q.childNodes[G]}return H}function i(q,z,G,H){let K=Vq(z,H);if(!u(q,G,K,H)){if(q)console.warn("[DEBUG_HYDRATE] Could not copy DOM into virtual DOM, falling back to diff");while(H.firstChild(K))H.removeChild(K,H.lastChild(K));return G.domRef=K,A(null,G,H),!1}else if(q)if(!R(G,H))console.warn("[DEBUG_HYDRATE] Integrity check completed with errors");else console.info("[DEBUG_HYDRATE] Successfully prerendered page");return!0}function k(q,z,G){if(q)console.warn("[DEBUG_HYDRATE] VTree differed from node",z,G)}function x(q){if(q.substr(0,1)=="#"){let z=(q.length-1)/3,G=[17,1,0.062272][z-1];return[Math.round(parseInt(q.substr(1,z),16)*G),Math.round(parseInt(q.substr(1+z,z),16)*G),Math.round(parseInt(q.substr(1+2*z,z),16)*G)]}else return q.split("(")[1].split(")")[0].split(",").map((z)=>{return+z})}function R(q,z){return d(!0,q,z)}function d(q,z,G){if(z.type=="vtext"){if(G.getTag(z.domRef)!=="#text")console.warn("VText domRef not a TEXT_NODE",z),q=!1;else if(z.text!==G.getTextContent(z.domRef))console.warn("VText node content differs",z),q=!1}else{if(z.tag.toUpperCase()!==G.getTag(z.domRef).toUpperCase())console.warn("Integrity check failed, tags differ",z.tag.toUpperCase(),G.getTag(z.domRef)),q=!1;if("children"in z&&z.children.length!==G.children(z.domRef).length)console.warn("Integrity check failed, children lengths differ",z,z.children,G.children(z.domRef)),q=!1;for(let H in z.props)if(H==="href"||H==="src"){let K=window.location.origin+"/"+z.props[H],X=G.getAttribute(z.domRef,H),Q=z.props[H];if(K!==X&&Q!==X&&Q+"/"!==X&&K+"/"!==X)console.warn("Property "+H+" differs",z.props[H],G.getAttribute(z.domRef,H)),q=!1}else if(H==="height"||H==="width"){if(parseFloat(z.props[H])!==parseFloat(G.getAttribute(z.domRef,H)))console.warn("Property "+H+" differs",z.props[H],G.getAttribute(z.domRef,H)),q=!1}else if(H==="class"||H==="className"){if(z.props[H]!==G.getAttribute(z.domRef,"class"))console.warn("Property class differs",z.props[H],G.getAttribute(z.domRef,"class")),q=!1}else if(z.props[H]!==G.getAttribute(z.domRef,H))console.warn("Property "+H+" differs",z.props[H],G.getAttribute(z.domRef,H)),q=!1;for(let H in z.css)if(H==="color"){if(x(G.getInlineStyle(z.domRef,H)).toString()!==x(z.css[H]).toString())console.warn("Style "+H+" differs",z.css[H],G.getInlineStyle(z.domRef,H)),q=!1}else if(z.css[H]!==G.getInlineStyle(z.domRef,H))console.warn("Style "+H+" differs",z.css[H],G.getInlineStyle(z.domRef,H)),q=!1;for(let H of z.children){let K=d(q,H,G);q=q&&K}}return q}function u(q,z,G,H){switch(z.type){case"vtext":z.domRef=G;break;default:z.domRef=G,z.children=Tq(z.children),O(z,H);for(var K=0;K<z.children.length;K++){let X=z.children[K],Q=G.childNodes[K];if(!Q)return k(q,X,Q),!1;switch(X.type){case"vtext":if(Q.nodeType!==3)return k(q,X,Q),!1;if(X.text===Q.textContent)X.domRef=H.children(G)[K];else return k(q,X,Q),!1;break;case"vcomp":X.mount(X.domRef,(Y,_)=>{X.children.push(_),u(q,X,G.childNodes[K],H)});break;default:if(Q.nodeType!==1)return!1;X.domRef=G.childNodes[K],u(q,X,X.domRef,H)}}}return!0}var c={addEventListener:(q,z,G,H)=>{q.addEventListener(z,G,H)},firstChild:(q)=>{return q.firstChild},lastChild:(q)=>{return q.lastChild},parentNode:(q)=>{return q.parentNode},createTextNode:(q)=>{return document.createTextNode(q)},createElementNS:(q,z)=>{return document.createElementNS(q,z)},appendChild:(q,z)=>{return q.appendChild(z)},replaceChild:(q,z,G)=>{return q.replaceChild(z,G)},removeChild:(q,z)=>{return q.removeChild(z)},createElement:(q)=>{return document.createElement(q)},insertBefore:(q,z,G)=>{return q.insertBefore(z,G)},swapDOMRefs:(q,z,G)=>{let H=q.nextSibling;G.insertBefore(q,z),G.insertBefore(z,H);return},querySelectorAll:(q)=>{return document.querySelectorAll(q)},setInlineStyle:(q,z,G)=>{var H;for(let K in q)if(H=z[K],!H)G.style[K]="";else if(H!==q[K])G.style[K]=H;for(let K in z){if(q&&q[K])continue;G.style[K]=z[K]}return},getInlineStyle:(q,z)=>{return q.style[z]},setAttribute:(q,z,G)=>{return q.setAttribute(z,G)},getAttribute:(q,z)=>{if(z==="class")return q.className;if(z in q)return q[z];return q.getAttribute(z)},setAttributeNS:(q,z,G,H)=>{return q.setAttributeNS(z,G,H)},removeAttribute:(q,z)=>{return q.removeAttribute(z)},setTextContent:(q,z)=>{q.textContent=z;return},getTag:(q)=>{return q.nodeName},getTextContent:(q)=>{return q.textContent},children:(q)=>{return q.childNodes},isEqual:(q,z)=>{return q===z},getTarget:(q)=>{return q.target},requestAnimationFrame:(q)=>{return window.requestAnimationFrame(q)},flush:()=>{return},getRoot:()=>{return document.body}};globalThis.miso={};globalThis.miso.diff=U;globalThis.miso.hydrate=i;globalThis.miso.version=D;globalThis.miso.delegate=m;globalThis.miso.callBlur=S;globalThis.miso.callFocus=B;globalThis.miso.eventJSON=V;globalThis.miso.fetchJSON=E;globalThis.miso.eventSourceConnect=h;globalThis.miso.eventSourceClose=F;globalThis.miso.websocketConnect=f;globalThis.miso.websocketClose=P;globalThis.miso.websocketSend=C;globalThis.miso.undelegate=y;globalThis.miso.getParentComponentId=M;globalThis.miso.shouldSync=T;globalThis.miso.integrityCheck=R;globalThis.miso.context=c;globalThis.miso.setDrawingContext=function(q){let z=globalThis[q];if(!z)console.warn("Custom rendering engine is not defined",q,globalThis[q]);else globalThis.miso.context=z};
