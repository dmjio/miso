var B="1.9.0.0";function D(T,q){var z=function(){var G=document.getElementById(T);if(G&&G.focus)G.focus()};q>0?setTimeout(z,q):z()}function S(T,q){var z=function(){var G=document.getElementById(T);if(G&&G.blur)G.blur()};q>0?setTimeout(z,q):z()}function E(T,q,z,G,H,K){var J={method:q,headers:G};if(z)J.body=z;fetch(T,J).then((X)=>{if(!X.ok)throw new Error(X.statusText);return X.json()}).then(H).catch(K)}function W(T){if(T.children.length===0)return!1;var q=!0;for(let z of T.children)if(!z.key){q=!1;break}return q}function M(T){var q=function(z){let G=null;while(z&&z.parentNode){if("componentId"in z.parentNode){G=z.parentNode.componentId;break}z=z.parentNode}return G};return q(T)}function f(T,q,z,G,H,K,J,X){try{let Y=new WebSocket(T);return Y.onopen=function(){q()},Y.onclose=function(Q){z(Q)},Y.onerror=function(Q){console.error(Q),X("WebSocket error received")},Y.onmessage=function(Q){if(typeof Q.data==="string")try{let $=JSON.parse(Q.data);H($)}catch($){G(Q.data)}else if(Q.data instanceof Blob)K(Q.data);else if(Q.data instanceof ArrayBuffer)J(Q.data);else console.error("Received unknown message type from WebSocket",Q),X("Unknown message received from WebSocket")},Y}catch(Y){X(Y.message)}}function P(T){if(T)T.close(),T=null}function C(T,q){if(q&&T&&T.readyState===WebSocket.OPEN)T.send(q)}function O(T,q,z,G,H){try{let K=new EventSource(T);return K.onopen=function(){q()},K.onerror=function(){H("EventSource error received")},K.onmessage=function(J){try{let X=JSON.parse(J.data);G(X)}catch(X){z(J.data)}},K}catch(K){H(K.message)}}function h(T){if(T)T.close(),T=null}function F(T){var q=r(o(),T);if(!q.shouldSync)q.shouldSync=W(q);return q}function r(T,q){return Object.assign({},T,q)}function o(){return{props:{},css:{},children:[],ns:"html",domRef:null,tag:"div",key:null,events:{},onDestroyed:()=>{},onBeforeDestroyed:()=>{},onCreated:()=>{},onBeforeCreated:()=>{},shouldSync:!1,type:"vnode"}}function Z(T,q,z,G){if(!T&&!q)return;else if(!T&&q)YT(q,z,G);else if(!q)n(T,z,G);else if(T.type===q.type)t(T,q,z,G);else l(T,q,z,G)}function l(T,q,z,G){if(w(T),q.type==="vtext")q.domRef=G.createTextNode(q.text),G.replaceChild(z,q.domRef,T.domRef);else g(q,G,(H)=>{G.replaceChild(z,H,T.domRef)});L(T)}function n(T,q,z){w(T),z.removeChild(q,T.domRef),L(T)}function t(T,q,z,G){if(T.type==="vtext"){if(T.text!==q.text)G.setTextContent(T.domRef,q.text);q.domRef=T.domRef;return}if(q.tag===T.tag&&q.key===T.key&&q.type===T.type)q.domRef=T.domRef,N(T,q,G);else l(T,q,z,G)}function L(T){e(T);for(let q in T.children)L(T.children[q])}function e(T){if(T.onDestroyed)T.onDestroyed();if(T.type==="vcomp")QT(T)}function TT(T){if(T.onBeforeDestroyed)T.onBeforeDestroyed()}function w(T){if(T.type==="vcomp"&&T.onBeforeUnmounted)T.onBeforeUnmounted();TT(T);for(let q in T.children)w(T.children[q])}function I(T,q){if(T.onCreated)T.onCreated(T.domRef);if(T.type==="vcomp")XT(T,q)}function qT(T){if(T.onBeforeCreated)T.onBeforeCreated()}function N(T,q,z){if(q.type!=="vtext"){if(!T)T=F({});if(zT(T.props,q.props,q.domRef,q.ns==="svg",z),GT(T.css,q.css,q.domRef,z),q.type==="vnode")HT(T,q,q.domRef,z);KT(q)}}function zT(T,q,z,G,H){var K;for(let J in T)if(K=q[J],K===void 0)if(G||!(J in z)||J==="disabled")H.removeAttribute(z,J);else H.setAttribute(z,J,"");else{if(K===T[J]&&J!=="checked"&&J!=="value")continue;if(G)if(J==="href")H.setAttributeNS(z,"http://www.w3.org/1999/xlink","href",K);else H.setAttribute(z,J,K);else if(J in z&&!(J==="list"||J==="form"))z[J]=K;else H.setAttribute(z,J,K)}for(let J in q){if(T&&T[J])continue;if(K=q[J],G)if(J==="href")H.setAttributeNS(z,"http://www.w3.org/1999/xlink","href",K);else H.setAttribute(z,J,K);else if(J in z&&!(J==="list"||J==="form"))z[J]=q[J];else H.setAttribute(z,J,K)}}function GT(T,q,z,G){G.setInlineStyle(T,q,z)}function HT(T,q,z,G){if(T.shouldSync&&q.shouldSync)ZT(T.children,q.children,z,G);else{let H=q.children.length>T.children.length?q.children.length:T.children.length;for(let K=0;K<H;K++)Z(T.children[K],q.children[K],z,G)}}function JT(T,q){if(T.ns==="svg")T.domRef=q.createElementNS("http://www.w3.org/2000/svg",T.tag);else if(T.ns==="mathml")T.domRef=q.createElementNS("http://www.w3.org/1998/Math/MathML",T.tag);else T.domRef=q.createElement(T.tag)}function g(T,q,z){qT(T),JT(T,q),I(T,q),z(T.domRef),N(null,T,q)}function KT(T){if(T.tag==="canvas"&&"draw"in T)T.draw(T.domRef)}function QT(T){if("onUnmounted"in T)T.onUnmounted(T.domRef);T.unmount(T.domRef)}function XT(T,q){if(T.onBeforeMounted)T.onBeforeMounted();T.mount(T.domRef,(z,G)=>{if(T.children.push(G),q.appendChild(T.domRef,G.domRef),T.onMounted)T.onMounted(T.domRef)})}function YT(T,q,z){if(T.type==="vtext")T.domRef=z.createTextNode(T.text),z.appendChild(q,T.domRef);else g(T,z,(G)=>{z.appendChild(q,G)})}function ZT(T,q,z,G){var H=0,K=0,J=T.length-1,X=q.length-1,Y,Q,$,U,_,R,p;for(;;){if(K>X&&H>J)break;if(Q=q[K],$=q[X],_=T[H],U=T[J],H>J)Z(null,Q,z,G),G.insertBefore(z,Q.domRef,_?_.domRef:null),T.splice(K,0,Q),K++;else if(K>X){Y=J;while(J>=H)G.removeChild(z,T[J--].domRef);T.splice(H,Y-H+1);break}else if(_.key===Q.key)Z(T[H++],q[K++],z,G);else if(U.key===$.key)Z(T[J--],q[X--],z,G);else if(_.key===$.key&&Q.key===U.key)G.swapDOMRefs(U.domRef,_.domRef,z),_T(T,H,J),Z(T[H++],q[K++],z,G),Z(T[J--],q[X--],z,G);else if(_.key===$.key)G.insertBefore(z,_.domRef,U.domRef.nextSibling),T.splice(J,0,T.splice(H,1)[0]),Z(T[J--],q[X--],z,G);else if(U.key===Q.key)G.insertBefore(z,U.domRef,_.domRef),T.splice(H,0,T.splice(J,1)[0]),Z(T[H++],Q,z,G),K++;else{R=!1,Y=H;while(Y<=J){if(T[Y].key===Q.key){R=!0,p=T[Y];break}Y++}if(R)T.splice(H,0,T.splice(Y,1)[0]),Z(T[H++],Q,z,G),G.insertBefore(z,p.domRef,T[H].domRef),K++;else g(Q,G,(c)=>{G.insertBefore(z,c,_.domRef)}),T.splice(H++,0,Q),K++,J++}}}function _T(T,q,z){let G=T[q];T[q]=T[z],T[z]=G}function m(T,q,z,G,H){for(let K of q)H.addEventListener(T,K.name,function(J){v(J,T,z,G,H)},K.capture)}function y(T,q,z,G,H){for(let K of q)T.removeEventListener(K.name,function(J){v(J,T,z,G,H)},K.capture)}function v(T,q,z,G,H){z(function(K){if(Array.isArray(T))for(let J of T)b(J,K,q,G,H);else b(T,K,q,G,H)})}function b(T,q,z,G,H){var K=H.getTarget(T);if(K){var J=$T(z,K,H);a(T,q,J,[],G,H)}}function $T(T,q,z){var G=[];while(!z.isEqual(T,q))if(G.unshift(q),q&&z.parentNode(q))q=z.parentNode(q);else return G;return G}function a(T,q,z,G,H,K){if(!z.length){if(H)console.warn('Event "'+T.type+'" did not find an event handler to dispatch on',q,T);return}else if(z.length>1){G.unshift(q);for(var J in q.children){var X=q.children[J];if(X.type==="vcomp")continue;if(K.isEqual(X.domRef,z[1])){a(T,X,z.slice(1),G,H,K);break}}}else{let Y=q.events[T.type];if(Y){let Q=Y.options;if(Q.preventDefault)T.preventDefault();if(Y.runEvent(T,z[0]),!Q.stopPropagation)j(G,T)}else j(G,T)}}function j(T,q){for(let z of T)if(z.events[q.type]){let G=z.events[q.type],H=G.options;if(H.preventDefault)q.preventDefault();if(G.runEvent(q,z.domRef),H.stopPropagation){q.stopPropagation();break}}}function A(T,q){if(typeof T[0]==="object"){var z=[];for(var G=0;G<T.length;G++)z.push(A(T[G],q));return z}for(let X of T)q=q[X];var H;if(q instanceof Array||"length"in q&&q.localName!=="select"){H=[];for(var K=0;K<q.length;K++)H.push(A([],q[K]));return H}H={};for(var J in UT(q)){if(q.localName==="input"&&(J==="selectionDirection"||J==="selectionStart"||J==="selectionEnd"))continue;if(typeof q[J]=="string"||typeof q[J]=="number"||typeof q[J]=="boolean")H[J]=q[J]}return H}function UT(T){var q={},z=0;do{var G=Object.getOwnPropertyNames(T);for(z=0;z<G.length;z++)q[G[z]]=null}while(T=Object.getPrototypeOf(T));return q}function WT(T){var q=0,z=T.length>0?[T[0]]:[];for(var G=1;G<T.length;G++){if(z[q].type==="vtext"&&T[G].type==="vtext"){z[q].text+=T[G].text;continue}z[++q]=T[G]}return z}function AT(T,q){var z=0,G,H=q.getRoot();if(!T)if(H.childNodes.length>0)G=H.firstChild;else G=H.appendChild(q.createElement("div"));else if(T.childNodes.length===0)G=T.appendChild(q.createElement("div"));else{while(T.childNodes[z]&&(T.childNodes[z].nodeType===3||T.childNodes[z].localName==="script"))z++;if(!T.childNodes[z])G=H.appendChild(q.createElement("div"));else G=T.childNodes[z]}return G}function i(T,q,z,G){let H=AT(q,G);if(!u(T,z,H,G)){if(T)console.warn("[DEBUG_HYDRATE] Could not copy DOM into virtual DOM, falling back to diff");while(G.firstChild(H))G.removeChild(H,G.lastChild(H));return z.domRef=H,N(null,z,G),!1}else if(T)if(!V(z,G))console.warn("[DEBUG_HYDRATE] Integrity check completed with errors");else console.info("[DEBUG_HYDRATE] Successfully prerendered page");return!0}function k(T,q,z){if(T)console.warn("[DEBUG_HYDRATE] VTree differed from node",q,z)}function x(T){if(T.substr(0,1)=="#"){let q=(T.length-1)/3,z=[17,1,0.062272][q-1];return[Math.round(parseInt(T.substr(1,q),16)*z),Math.round(parseInt(T.substr(1+q,q),16)*z),Math.round(parseInt(T.substr(1+2*q,q),16)*z)]}else return T.split("(")[1].split(")")[0].split(",").map((q)=>{return+q})}function V(T,q){return d(!0,T,q)}function d(T,q,z){if(q.type=="vtext"){if(z.getTag(q.domRef)!=="#text")console.warn("VText domRef not a TEXT_NODE",q),T=!1;else if(q.text!==z.getTextContent(q.domRef))console.warn("VText node content differs",q),T=!1}else{if(q.tag.toUpperCase()!==z.getTag(q.domRef).toUpperCase())console.warn("Integrity check failed, tags differ",q.tag.toUpperCase(),z.getTag(q.domRef)),T=!1;if("children"in q&&q.children.length!==z.children(q.domRef).length)console.warn("Integrity check failed, children lengths differ",q,q.children,z.children(q.domRef)),T=!1;for(let G in q.props)if(G==="href"||G==="src"){let H=window.location.origin+"/"+q.props[G],K=z.getAttribute(q.domRef,G),J=q.props[G];if(H!==K&&J!==K&&J+"/"!==K&&H+"/"!==K)console.warn("Property "+G+" differs",q.props[G],z.getAttribute(q.domRef,G)),T=!1}else if(G==="height"||G==="width"){if(parseFloat(q.props[G])!==parseFloat(z.getAttribute(q.domRef,G)))console.warn("Property "+G+" differs",q.props[G],z.getAttribute(q.domRef,G)),T=!1}else if(G==="class"||G==="className"){if(q.props[G]!==z.getAttribute(q.domRef,"class"))console.warn("Property class differs",q.props[G],z.getAttribute(q.domRef,"class")),T=!1}else if(q.props[G]!==z.getAttribute(q.domRef,G))console.warn("Property "+G+" differs",q.props[G],z.getAttribute(q.domRef,G)),T=!1;for(let G in q.css)if(G==="color"){if(x(z.getInlineStyle(q.domRef,G)).toString()!==x(q.css[G]).toString())console.warn("Style "+G+" differs",q.css[G],z.getInlineStyle(q.domRef,G)),T=!1}else if(q.css[G]!==z.getInlineStyle(q.domRef,G))console.warn("Style "+G+" differs",q.css[G],z.getInlineStyle(q.domRef,G)),T=!1;for(let G of q.children){let H=d(T,G,z);T=T&&H}}return T}function u(T,q,z,G){switch(q.type){case"vtext":q.domRef=z;break;default:q.domRef=z,q.children=WT(q.children),I(q,G);for(var H=0;H<q.children.length;H++){let K=q.children[H],J=z.childNodes[H];if(!J)return k(T,K,J),!1;switch(K.type){case"vtext":if(J.nodeType!==3)return k(T,K,J),!1;if(K.text===J.textContent)K.domRef=G.children(z)[H];else return k(T,K,J),!1;break;case"vcomp":K.mount(K.domRef,(X,Y)=>{K.children.push(Y),u(T,K,z.childNodes[H],G)});break;default:if(J.nodeType!==1)return!1;K.domRef=z.childNodes[H],u(T,K,K.domRef,G)}}}return!0}var s={addEventListener:(T,q,z,G)=>{T.addEventListener(q,z,G)},firstChild:(T)=>{return T.firstChild},lastChild:(T)=>{return T.lastChild},parentNode:(T)=>{return T.parentNode},createTextNode:(T)=>{return document.createTextNode(T)},createElementNS:(T,q)=>{return document.createElementNS(T,q)},appendChild:(T,q)=>{return T.appendChild(q)},replaceChild:(T,q,z)=>{return T.replaceChild(q,z)},removeChild:(T,q)=>{return T.removeChild(q)},createElement:(T)=>{return document.createElement(T)},insertBefore:(T,q,z)=>{return T.insertBefore(q,z)},swapDOMRefs:(T,q,z)=>{let G=T.nextSibling;z.insertBefore(T,q),z.insertBefore(q,G);return},querySelectorAll:(T)=>{return document.querySelectorAll(T)},setInlineStyle:(T,q,z)=>{var G;for(let H in T)if(G=q[H],!G)z.style[H]="";else if(G!==T[H])z.style[H]=G;for(let H in q){if(T&&T[H])continue;z.style[H]=q[H]}return},getInlineStyle:(T,q)=>{return T.style[q]},setAttribute:(T,q,z)=>{return T.setAttribute(q,z)},getAttribute:(T,q)=>{if(q==="class")return T.className;if(q in T)return T[q];return T.getAttribute(q)},setAttributeNS:(T,q,z,G)=>{return T.setAttributeNS(q,z,G)},removeAttribute:(T,q)=>{return T.removeAttribute(q)},setTextContent:(T,q)=>{T.textContent=q;return},getTag:(T)=>{return T.nodeName},getTextContent:(T)=>{return T.textContent},children:(T)=>{return T.childNodes},isEqual:(T,q)=>{return T===q},getTarget:(T)=>{return T.target},requestAnimationFrame:(T)=>{return window.requestAnimationFrame(T)},flush:()=>{return},getRoot:()=>{return document.body}};globalThis.miso={};globalThis.miso.diff=Z;globalThis.miso.hydrate=i;globalThis.miso.version=B;globalThis.miso.delegate=m;globalThis.miso.callBlur=S;globalThis.miso.callFocus=D;globalThis.miso.eventJSON=A;globalThis.miso.fetchJSON=E;globalThis.miso.eventSourceConnect=O;globalThis.miso.eventSourceClose=h;globalThis.miso.websocketConnect=f;globalThis.miso.websocketClose=P;globalThis.miso.websocketSend=C;globalThis.miso.undelegate=y;globalThis.miso.getParentComponentId=M;globalThis.miso.shouldSync=W;globalThis.miso.integrityCheck=V;globalThis.miso.context=s;globalThis.miso.setDrawingContext=function(T){let q=globalThis[T];if(!q)console.warn("Custom rendering engine is not defined",T,globalThis[T]);else globalThis.miso.context=q};
