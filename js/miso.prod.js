function N(G){var K=e(GG(),G);return K}function e(G,K){return Object.assign({},G,K)}function GG(){return{props:{},css:{},children:[],ns:"html",domRef:null,tag:"div",key:null,events:{},onDestroyed:()=>{},onBeforeDestroyed:()=>{},onCreated:()=>{},onBeforeCreated:()=>{},type:"vnode",nextSibling:null,parent:null}}function V(G,K,Q,Y){if(!G&&!K)return;else if(!G)AG(K,Q,Y);else if(!K)KG(G,Q,Y);else if(G.type===K.type)QG(G,K,Q,Y);else b(G,K,Q,Y)}function b(G,K,Q,Y){if(B(G),K.type==="vtext")K.domRef=Y.createTextNode(K.text),Y.replaceChild(Q,K.domRef,G.domRef);else M(K,Y,(X)=>{Y.replaceChild(Q,X,G.domRef)});E(G)}function KG(G,K,Q){B(G),Q.removeChild(K,G.domRef),E(G)}function QG(G,K,Q,Y){if(G.type==="vtext"&&K.type==="vtext"){if(G.text!==K.text)Y.setTextContent(G.domRef,K.text);K.domRef=G.domRef;return}if(K.tag===G.tag&&K.key===G.key&&K.type===G.type)K.domRef=G.domRef,J(G,K,Y);else b(G,K,Q,Y)}function E(G){XG(G);for(let K in G.children)E(G.children[K])}function XG(G){if(G.onDestroyed)G.onDestroyed();if(G.type==="vcomp")WG(G)}function YG(G){if(G.onBeforeDestroyed)G.onBeforeDestroyed(G.domRef)}function B(G){if(G.type==="vcomp"&&G.onBeforeUnmounted)G.onBeforeUnmounted(G.domRef);YG(G);for(let K in G.children)B(G.children[K])}function R(G,K){if(G.onCreated)G.onCreated(G.domRef);if(G.type==="vcomp")VG(G,K)}function ZG(G){if(G.onBeforeCreated)G.onBeforeCreated()}function J(G,K,Q){if(K.type!=="vtext"){if(!G)G=N({});if(_G(G.props,K.props,K.domRef,K.ns==="svg",Q),$G(G.css,K.css,K.domRef,Q),K.type==="vnode")UG(G,K,K.domRef,Q);HG(K)}}function _G(G,K,Q,Y,X){var _;for(let Z in G)if(_=K[Z],_===void 0)if(Y||!(Z in Q)||Z==="disabled")X.removeAttribute(Q,Z);else X.setAttribute(Q,Z,"");else{if(_===G[Z]&&Z!=="checked"&&Z!=="value")continue;if(Y)if(Z==="href")X.setAttributeNS(Q,"http://www.w3.org/1999/xlink","href",_);else X.setAttribute(Q,Z,_);else if(Z in Q&&!(Z==="list"||Z==="form"))Q[Z]=_;else X.setAttribute(Q,Z,_)}for(let Z in K){if(G&&G[Z])continue;if(_=K[Z],Y)if(Z==="href")X.setAttributeNS(Q,"http://www.w3.org/1999/xlink","href",_);else X.setAttribute(Q,Z,_);else if(Z in Q&&!(Z==="list"||Z==="form"))Q[Z]=K[Z];else X.setAttribute(Q,Z,_)}}function $G(G,K,Q,Y){Y.setInlineStyle(G,K,Q)}function zG(G,K){if(G.children.length===0||K.children.length===0)return!1;for(var Q=0;Q<G.children.length;Q++)if(G.children[Q].key===null||G.children[Q].key===void 0)return!1;for(var Q=0;Q<K.children.length;Q++)if(K.children[Q].key===null||K.children[Q].key===void 0)return!1;return!0}function UG(G,K,Q,Y){if(zG(G,K))RG(G.children,K.children,Q,Y);else for(let X=0;X<Math.max(K.children.length,G.children.length);X++)V(G.children[X],K.children[X],Q,Y)}function qG(G,K){if(G.ns==="svg")G.domRef=K.createElementNS("http://www.w3.org/2000/svg",G.tag);else if(G.ns==="mathml")G.domRef=K.createElementNS("http://www.w3.org/1998/Math/MathML",G.tag);else G.domRef=K.createElement(G.tag)}function M(G,K,Q){ZG(G),qG(G,K),R(G,K),Q(G.domRef),J(null,G,K)}function HG(G){if(G.tag==="canvas"&&"draw"in G)G.draw(G.domRef)}function WG(G){if("onUnmounted"in G)G.onUnmounted(G.domRef);G.unmount(G.domRef)}function VG(G,K){if(G.onBeforeMounted)G.onBeforeMounted();G.mount(G.domRef,(Q,Y)=>{if(G.children.push(Y),K.appendChild(G.domRef,Y.domRef),G.onMounted)G.onMounted(G.domRef)})}function AG(G,K,Q){if(G.type==="vtext")G.domRef=Q.createTextNode(G.text),Q.appendChild(K,G.domRef);else M(G,Q,(Y)=>{Q.appendChild(K,Y)})}function RG(G,K,Q,Y){var X=0,_=0,Z=G.length-1,$=K.length-1,q,U,z,H,W,D,v;for(;;){if(_>$&&X>Z)break;if(U=K[_],z=K[$],W=G[X],H=G[Z],X>Z)V(null,U,Q,Y),Y.insertBefore(Q,U.domRef,W?W.domRef:null),G.splice(_,0,U),_++;else if(_>$){q=Z;while(Z>=X)Y.removeChild(Q,G[Z--].domRef);G.splice(X,q-X+1);break}else if(W.key===U.key)V(G[X++],K[_++],Q,Y);else if(H.key===z.key)V(G[Z--],K[$--],Q,Y);else if(W.key===z.key&&U.key===H.key)Y.swapDOMRefs(H.domRef,W.domRef,Q),JG(G,X,Z),V(G[X++],K[_++],Q,Y),V(G[Z--],K[$--],Q,Y);else if(W.key===z.key)Y.insertBefore(Q,W.domRef,Y.nextSibling(H)),G.splice(Z,0,G.splice(X,1)[0]),V(G[Z--],K[$--],Q,Y);else if(H.key===U.key)Y.insertBefore(Q,H.domRef,W.domRef),G.splice(X,0,G.splice(Z,1)[0]),V(G[X++],U,Q,Y),_++;else{D=!1,q=X;while(q<=Z){if(G[q].key===U.key){D=!0,v=G[q];break}q++}if(D)G.splice(X,0,G.splice(q,1)[0]),V(G[X++],U,Q,Y),Y.insertBefore(Q,v.domRef,G[X].domRef),_++;else M(U,Y,(t)=>{Y.insertBefore(Q,t,W.domRef)}),G.splice(X++,0,U),_++,Z++}}}function JG(G,K,Q){let Y=G[K];G[K]=G[Q],G[Q]=Y}function S(G,K,Q,Y,X){for(let _ of K)X.addEventListener(G,_.name,function(Z){x(Z,G,Q,Y,X)},_.capture)}function T(G,K,Q,Y,X){for(let _ of K)X.removeEventListener(G,_.name,function(Z){x(Z,G,Q,Y,X)},_.capture)}function x(G,K,Q,Y,X){Q(function(_){if(Array.isArray(G))for(let Z of G)i(Z,_,K,Y,X);else i(G,_,K,Y,X)})}function i(G,K,Q,Y,X){var _=X.getTarget(G);if(_){var Z=DG(Q,_,X);p(G,K,Z,[],Y,X)}}function DG(G,K,Q){var Y=[];while(!Q.isEqual(G,K))if(Y.unshift(K),K&&Q.parentNode(K))K=Q.parentNode(K);else return Y;return Y}function p(G,K,Q,Y,X,_){if(!Q.length){if(X)console.warn('Event "'+G.type+'" did not find an event handler to dispatch on',K,G);return}else if(Q.length>1){Y.unshift(K);for(var Z in K.children){var $=K.children[Z];if($.type==="vcomp")continue;if(_.isEqual($.domRef,Q[1])){p(G,$,Q.slice(1),Y,X,_);break}}}else{let q=K.events[G.type];if(q){let U=q.options;if(U.preventDefault)G.preventDefault();if(q.runEvent(G,Q[0]),!U.stopPropagation)l(Y,G)}else l(Y,G)}}function l(G,K){for(let Q of G)if(Q.events[K.type]){let Y=Q.events[K.type],X=Y.options;if(X.preventDefault)K.preventDefault();if(Y.runEvent(K,Q.domRef),X.stopPropagation){K.stopPropagation();break}}}function A(G,K){if(typeof G[0]==="object"){var Q=[];for(var Y=0;Y<G.length;Y++)Q.push(A(G[Y],K));return Q}for(let $ of G)K=K[$];var X;if(K instanceof Array||"length"in K&&K.localName!=="select"){X=[];for(var _=0;_<K.length;_++)X.push(A([],K[_]));return X}X={};for(var Z in NG(K)){if(K.localName==="input"&&(Z==="selectionDirection"||Z==="selectionStart"||Z==="selectionEnd"))continue;if(typeof K[Z]=="string"||typeof K[Z]=="number"||typeof K[Z]=="boolean")X[Z]=K[Z]}return X}function NG(G){var K={},Q=0;do{var Y=Object.getOwnPropertyNames(G);for(Q=0;Q<Y.length;Q++)K[Y[Q]]=null}while(G=Object.getPrototypeOf(G));return K}function EG(G){var K=0,Q=G.length>0?[G[0]]:[];for(var Y=1;Y<G.length;Y++){if(Q[K].type==="vtext"&&G[Y].type==="vtext"){Q[K].text+=G[Y].text;continue}Q[++K]=G[Y]}return Q}function BG(G,K){var Q=0,Y,X=K.getRoot();if(!G)if(X.childNodes.length>0)Y=X.firstChild;else Y=X.appendChild(K.createElement("div"));else if(G.childNodes.length===0)Y=G.appendChild(K.createElement("div"));else{while(G.childNodes[Q]&&(G.childNodes[Q].nodeType===3||G.childNodes[Q].localName==="script"))Q++;if(!G.childNodes[Q])Y=X.appendChild(K.createElement("div"));else Y=G.childNodes[Q]}return Y}function L(G,K,Q,Y,X){let _=BG(K,X);if(!s(G,Q,_,Y,X)){if(G)console.warn("[DEBUG_HYDRATE] Could not copy DOM into virtual DOM, falling back to diff");while(Y.firstChild(_))X.removeChild(_,Y.lastChild(_));return Q.domRef=_,J(null,Q,X),!1}else if(G)console.info("[DEBUG_HYDRATE] Successfully prerendered page");return!0}function P(G,K,Q){if(G)console.warn("[DEBUG_HYDRATE] VTree differed from node",K,Q)}function d(G){if(G.substr(0,1)=="#"){let K=(G.length-1)/3,Q=[17,1,0.062272][K-1];return[Math.round(parseInt(G.substr(1,K),16)*Q),Math.round(parseInt(G.substr(1+K,K),16)*Q),Math.round(parseInt(G.substr(1+2*K,K),16)*Q)]}else return G.split("(")[1].split(")")[0].split(",").map((K)=>{return+K})}function F(G,K,Q){return a(!0,G,K,Q)}function a(G,K,Q,Y){if(K.type=="vtext"){if(Q.getTag(K.domRef)!=="#text")console.warn("VText domRef not a TEXT_NODE",K),G=!1;else if(K.text!==Q.getTextContent(K.domRef))console.warn("VText node content differs",K),G=!1}else{if(K.tag.toUpperCase()!==Q.getTag(K.domRef).toUpperCase())console.warn("Integrity check failed, tags differ",K.tag.toUpperCase(),Q.getTag(K.domRef)),G=!1;if("children"in K&&K.children.length!==Q.children(K.domRef).length)console.warn("Integrity check failed, children lengths differ",K,K.children,Q.children(K.domRef)),G=!1;for(let X in K.props)if(X==="href"||X==="src"){let _=window.location.origin+"/"+K.props[X],Z=Q.getAttribute(K.domRef,X),$=K.props[X];if(_!==Z&&$!==Z&&$+"/"!==Z&&_+"/"!==Z)console.warn("Property "+X+" differs",K.props[X],Q.getAttribute(K.domRef,X)),G=!1}else if(X==="height"||X==="width"){if(parseFloat(K.props[X])!==parseFloat(Q.getAttribute(K.domRef,X)))console.warn("Property "+X+" differs",K.props[X],Q.getAttribute(K.domRef,X)),G=!1}else if(X==="class"||X==="className"){if(K.props[X]!==Q.getAttribute(K.domRef,"class"))console.warn("Property class differs",K.props[X],Q.getAttribute(K.domRef,"class")),G=!1}else if(K.props[X]!==Q.getAttribute(K.domRef,X))console.warn("Property "+X+" differs",K.props[X],Q.getAttribute(K.domRef,X)),G=!1;for(let X in K.css)if(X==="color"){if(d(Q.getInlineStyle(K.domRef,X)).toString()!==d(K.css[X]).toString())console.warn("Style "+X+" differs",K.css[X],Q.getInlineStyle(K.domRef,X)),G=!1}else if(K.css[X]!==Q.getInlineStyle(K.domRef,X))console.warn("Style "+X+" differs",K.css[X],Q.getInlineStyle(K.domRef,X)),G=!1;for(let X of K.children){let _=a(G,X,Q,Y);G=G&&_}}return G}function s(G,K,Q,Y,X){switch(K.type){case"vcomp":K.domRef=Q,R(K,X);break;case"vtext":K.domRef=Q;break;default:K.domRef=Q,K.children=EG(K.children),R(K,X);for(var _=0;_<K.children.length;_++){let Z=K.children[_],$=Q.childNodes[_];if(!$)return P(G,Z,$),!1;switch(Z.type){case"vtext":if($.nodeType!==3)return P(G,Z,$),!1;if(Z.text===$.textContent)Z.domRef=Y.children(Q)[_];else return P(G,Z,$),!1;break;default:if($.nodeType!==1)return!1;Z.domRef=$,s(G,Z,$,Y,X);break}}}return!0}var f="1.9.0.0";function O(G,K){var Q=function(){var Y=document.getElementById(G);if(Y&&Y.focus)Y.focus()};K>0?setTimeout(Q,K):Q()}function I(G,K){var Q=function(){var Y=document.getElementById(G);if(Y&&Y.blur)Y.blur()};K>0?setTimeout(Q,K):Q()}function w(G,K){var Q=function(){var Y=document.getElementById(G);if(Y&&typeof Y.select==="function")Y.select()};K>0?setTimeout(Q,K):Q()}function C(G,K,Q,Y){var X=function(){var _=document.getElementById(G);if(_&&typeof _.setSelectionRange==="function")_.setSelectionRange(K,Q,"none")};Y>0?setTimeout(X,Y):X()}function k(G,K,Q,Y,X,_,Z){var $={method:K,headers:Y};if(Q)$.body=Q;let q={},U=null;try{fetch(G,$).then((z)=>{U=z.status;for(let[H,W]of z.headers)q[H]=W;if(!z.ok)throw new Error(z.statusText);if(Z=="json")return z.json();else if(Z=="text")return z.text();else if(Z==="arrayBuffer")return z.arrayBuffer();else if(Z==="blob")return z.blob();else if(Z==="bytes")return z.bytes();else if(Z==="formData")return z.formData();else if(Z==="none")return X({error:null,body:null,headers:q,status:U})}).then((z)=>X({error:null,body:z,headers:q,status:U})).catch((z)=>_({error:null,body:z,headers:q,status:U}))}catch(z){_({body:null,error:z.message,headers:q,status:U})}}function y(G){var K=function(Q){let Y=null;while(Q&&Q.parentNode){if("componentId"in Q.parentNode){Y=Q.parentNode.componentId;break}Q=Q.parentNode}return Y};return K(G)}function g(G,K,Q,Y,X,_,Z,$,q){try{let U=new WebSocket(G);return U.onopen=function(){K()},U.onclose=function(z){Q(z)},U.onerror=function(z){console.error(z),$("WebSocket error received")},U.onmessage=function(z){if(typeof z.data==="string")try{if(q){if(Y)Y(z.data);return}let H=JSON.parse(z.data);if(X)X(H)}catch(H){if(q&&Y)Y(z.data);else $(H.message)}else if(z.data instanceof Blob){if(_)_(z.data)}else if(z.data instanceof ArrayBuffer){if(Z)Z(z.data)}else console.error("Received unknown message type from WebSocket",z),$("Unknown message received from WebSocket")},U}catch(U){$(U.message)}}function h(G){if(G)G.close(),G=null}function m(G,K){if(K&&G&&G.readyState===WebSocket.OPEN)G.send(K)}function u(G,K,Q,Y,X,_){try{let Z=new EventSource(G);return Z.onopen=function(){K()},Z.onerror=function(){X("EventSource error received")},Z.onmessage=function($){try{if(_){if(Q)Q($.data);return}let q=JSON.parse($.data);if(Y)Y(q)}catch(q){if(_&&Q)Q($.data);else X(q.message)}},Z}catch(Z){X(Z.message)}}function j(G){if(G)G.close(),G=null}var r={addEventListener:(G,K,Q,Y)=>{G.addEventListener(K,Q,Y)},removeEventListener:(G,K,Q,Y)=>{G.removeEventListener(K,Q,Y)},isEqual:(G,K)=>{return G===K},getTarget:(G)=>{return G.target},parentNode:(G)=>{return G.parentNode}},c={getInlineStyle:(G,K)=>{return G.style[K]},firstChild:(G)=>{return G.firstChild},lastChild:(G)=>{return G.lastChild},getAttribute:(G,K)=>{if(K==="class")return G.className;if(K in G)return G[K];return G.getAttribute(K)},getTag:(G)=>{return G.nodeName},getTextContent:(G)=>{return G.textContent},children:(G)=>{return G.childNodes}},o={mountComponent:function(G,K,Q){return},unmountComponent:function(G){return},modelHydration:function(G){return}},n={nextSibling:(G)=>{return G.domRef.nextSibling},createTextNode:(G)=>{return document.createTextNode(G)},createElementNS:(G,K)=>{return document.createElementNS(G,K)},appendChild:(G,K)=>{return G.appendChild(K)},replaceChild:(G,K,Q)=>{return G.replaceChild(K,Q)},removeChild:(G,K)=>{return G.removeChild(K)},createElement:(G)=>{return document.createElement(G)},insertBefore:(G,K,Q)=>{return G.insertBefore(K,Q)},swapDOMRefs:(G,K,Q)=>{let Y=G.nextSibling;Q.insertBefore(G,K),Q.insertBefore(K,Y);return},setInlineStyle:(G,K,Q)=>{var Y;for(let X in G)if(Y=K[X],!Y)if(X in Q.style)Q.style[X]="";else Q.style.setProperty(X,"");else if(Y!==G[X])if(X in Q.style)Q.style[X]=Y;else Q.style.setProperty(X,Y);for(let X in K){if(G&&G[X])continue;if(X in Q.style)Q.style[X]=K[X];else Q.style.setProperty(X,K[X])}return},setAttribute:(G,K,Q)=>{return G.setAttribute(K,Q)},setAttributeNS:(G,K,Q,Y)=>{return G.setAttributeNS(K,Q,Y)},removeAttribute:(G,K)=>{return G.removeAttribute(K)},setTextContent:(G,K)=>{G.textContent=K;return},flush:()=>{return},getRoot:function(){return document.body}};globalThis.miso={hydrationContext:c,eventContext:r,drawingContext:n,componentContext:o,diff:V,hydrate:L,version:f,delegate:S,callBlur:I,callFocus:O,callSelect:w,callSetSelectionRange:C,eventJSON:A,fetchCore:k,eventSourceConnect:u,eventSourceClose:j,websocketConnect:g,websocketClose:h,websocketSend:m,undelegate:T,getParentComponentId:y,integrityCheck:F,setDrawingContext:function(G){let K=globalThis[G].drawingContext,Q=globalThis[G].eventContext;if(!K)console.error('Custom rendering engine ("drawingContext") is not defined at globalThis[name].drawingContext',G);if(!Q)console.error('Custom event delegation ("eventContext") is not defined at globalThis[name].eventContext',G);globalThis.miso.drawingContext=K,globalThis.miso.eventContext=Q}};
