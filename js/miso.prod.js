var B="1.9.0.0";function D(T,J){var q=function(){var z=document.getElementById(T);if(z&&z.focus)z.focus()};J>0?setTimeout(q,J):q()}function S(T,J){var q=function(){var z=document.getElementById(T);if(z&&z.blur)z.blur()};J>0?setTimeout(q,J):q()}function E(T,J,q,z,G,K){var H={method:J,headers:z};if(q)H.body=q;fetch(T,H).then((Y)=>{if(!Y.ok)throw new Error(Y.statusText);return Y.json()}).then(G).catch(K)}function N(T){if(T.children.length===0)return!1;var J=!0;for(let q of T.children)if(!q.key){J=!1;break}return J}function M(T){var J=function(q){let z=null;while(q&&q.parentNode){if("componentId"in q.parentNode){z=q.parentNode.componentId;break}q=q.parentNode}return z};return J(T)}function f(T,J,q,z,G,K,H,Y){try{let X=new WebSocket(T);return X.onopen=function(){J()},X.onclose=function(Q){q(Q)},X.onerror=function(Q){console.error(Q),Y("WebSocket error received")},X.onmessage=function(Q){if(typeof Q.data==="string")try{let $=JSON.parse(Q.data);G($)}catch($){z(Q.data)}else if(Q.data instanceof Blob)K(Q.data);else if(Q.data instanceof ArrayBuffer)H(Q.data);else console.error("Received unknown message type from WebSocket",Q),Y("Unknown message received from WebSocket")},X}catch(X){Y(X.message)}}function O(T){if(T)T.close(),T=null}function P(T,J){if(J&&T&&T.readyState===WebSocket.OPEN)T.send(J)}function C(T,J,q,z){let G=new EventSource(T);return G.onopen=function(){J()},G.onerror=function(K){z(K)},G.onmessage=function(K){q(K.data)},G}function h(T){if(T)T.close(),T=null}function F(T){var J=r(o(),T);if(!J.shouldSync)J.shouldSync=N(J);return J}function r(T,J){return Object.assign({},T,J)}function o(){return{props:{},css:{},children:[],ns:"html",domRef:null,tag:"div",key:null,events:{},onDestroyed:()=>{},onBeforeDestroyed:()=>{},onCreated:()=>{},onBeforeCreated:()=>{},shouldSync:!1,type:"vnode"}}function Z(T,J,q,z){if(!T&&!J)return;else if(!T&&J)YT(J,q,z);else if(!J)n(T,q,z);else if(T.type===J.type)t(T,J,q,z);else l(T,J,q,z)}function l(T,J,q,z){if(w(T),J.type==="vtext")J.domRef=z.createTextNode(J.text),z.replaceChild(q,J.domRef,T.domRef);else g(J,z,(G)=>{z.replaceChild(q,G,T.domRef)});L(T)}function n(T,J,q){w(T),q.removeChild(J,T.domRef),L(T)}function t(T,J,q,z){if(T.type==="vtext"){if(T.text!==J.text)z.setTextContent(T.domRef,J.text);J.domRef=T.domRef;return}if(J.tag===T.tag&&J.key===T.key&&J.type===T.type)J.domRef=T.domRef,A(T,J,z);else l(T,J,q,z)}function L(T){e(T);for(let J in T.children)L(T.children[J])}function e(T){if(T.onDestroyed)T.onDestroyed();if(T.type==="vcomp")QT(T)}function TT(T){if(T.onBeforeDestroyed)T.onBeforeDestroyed()}function w(T){if(T.type==="vcomp"&&T.onBeforeUnmounted)T.onBeforeUnmounted();TT(T);for(let J in T.children)w(T.children[J])}function I(T,J){if(T.onCreated)T.onCreated(T.domRef);if(T.type==="vcomp")XT(T,J)}function JT(T){if(T.onBeforeCreated)T.onBeforeCreated()}function A(T,J,q){if(J.type!=="vtext"){if(!T)T=F({});if(qT(T.props,J.props,J.domRef,J.ns==="svg",q),zT(T.css,J.css,J.domRef,q),J.type==="vnode")GT(T,J,J.domRef,q);KT(J)}}function qT(T,J,q,z,G){var K;for(let H in T)if(K=J[H],K===void 0)if(z||!(H in q)||H==="disabled")G.removeAttribute(q,H);else G.setAttribute(q,H,"");else{if(K===T[H]&&H!=="checked"&&H!=="value")continue;if(z)if(H==="href")G.setAttributeNS(q,"http://www.w3.org/1999/xlink","href",K);else G.setAttribute(q,H,K);else if(H in q&&!(H==="list"||H==="form"))q[H]=K;else G.setAttribute(q,H,K)}for(let H in J){if(T&&T[H])continue;if(K=J[H],z)if(H==="href")G.setAttributeNS(q,"http://www.w3.org/1999/xlink","href",K);else G.setAttribute(q,H,K);else if(H in q&&!(H==="list"||H==="form"))q[H]=J[H];else G.setAttribute(q,H,K)}}function zT(T,J,q,z){z.setInlineStyle(T,J,q)}function GT(T,J,q,z){if(T.shouldSync&&J.shouldSync)ZT(T.children,J.children,q,z);else{let G=J.children.length>T.children.length?J.children.length:T.children.length;for(let K=0;K<G;K++)Z(T.children[K],J.children[K],q,z)}}function HT(T,J){if(T.ns==="svg")T.domRef=J.createElementNS("http://www.w3.org/2000/svg",T.tag);else if(T.ns==="mathml")T.domRef=J.createElementNS("http://www.w3.org/1998/Math/MathML",T.tag);else T.domRef=J.createElement(T.tag)}function g(T,J,q){JT(T),HT(T,J),I(T,J),q(T.domRef),A(null,T,J)}function KT(T){if(T.tag==="canvas"&&"draw"in T)T.draw(T.domRef)}function QT(T){if("onUnmounted"in T)T.onUnmounted(T.domRef);T.unmount(T.domRef)}function XT(T,J){if(T.onBeforeMounted)T.onBeforeMounted();T.mount(T.domRef,(q,z)=>{if(T.children.push(z),J.appendChild(T.domRef,z.domRef),T.onMounted)T.onMounted(T.domRef)})}function YT(T,J,q){if(T.type==="vtext")T.domRef=q.createTextNode(T.text),q.appendChild(J,T.domRef);else g(T,q,(z)=>{q.appendChild(J,z)})}function ZT(T,J,q,z){var G=0,K=0,H=T.length-1,Y=J.length-1,X,Q,$,U,_,R,p;for(;;){if(K>Y&&G>H)break;if(Q=J[K],$=J[Y],_=T[G],U=T[H],G>H)Z(null,Q,q,z),z.insertBefore(q,Q.domRef,_?_.domRef:null),T.splice(K,0,Q),K++;else if(K>Y){X=H;while(H>=G)z.removeChild(q,T[H--].domRef);T.splice(G,X-G+1);break}else if(_.key===Q.key)Z(T[G++],J[K++],q,z);else if(U.key===$.key)Z(T[H--],J[Y--],q,z);else if(_.key===$.key&&Q.key===U.key)z.swapDOMRefs(U.domRef,_.domRef,q),_T(T,G,H),Z(T[G++],J[K++],q,z),Z(T[H--],J[Y--],q,z);else if(_.key===$.key)z.insertBefore(q,_.domRef,U.domRef.nextSibling),T.splice(H,0,T.splice(G,1)[0]),Z(T[H--],J[Y--],q,z);else if(U.key===Q.key)z.insertBefore(q,U.domRef,_.domRef),T.splice(G,0,T.splice(H,1)[0]),Z(T[G++],Q,q,z),K++;else{R=!1,X=G;while(X<=H){if(T[X].key===Q.key){R=!0,p=T[X];break}X++}if(R)T.splice(G,0,T.splice(X,1)[0]),Z(T[G++],Q,q,z),z.insertBefore(q,p.domRef,T[G].domRef),K++;else g(Q,z,(c)=>{z.insertBefore(q,c,_.domRef)}),T.splice(G++,0,Q),K++,H++}}}function _T(T,J,q){let z=T[J];T[J]=T[q],T[q]=z}function m(T,J,q,z,G){for(let K of J)G.addEventListener(T,K.name,function(H){v(H,T,q,z,G)},K.capture)}function y(T,J,q,z,G){for(let K of J)T.removeEventListener(K.name,function(H){v(H,T,q,z,G)},K.capture)}function v(T,J,q,z,G){q(function(K){if(Array.isArray(T))for(let H of T)b(H,K,J,z,G);else b(T,K,J,z,G)})}function b(T,J,q,z,G){var K=G.getTarget(T);if(K){var H=$T(q,K,G);a(T,J,H,[],z,G)}}function $T(T,J,q){var z=[];while(!q.isEqual(T,J))if(z.unshift(J),J&&q.parentNode(J))J=q.parentNode(J);else return z;return z}function a(T,J,q,z,G,K){if(!q.length){if(G)console.warn('Event "'+T.type+'" did not find an event handler to dispatch on',J,T);return}else if(q.length>1){z.unshift(J);for(var H in J.children){var Y=J.children[H];if(Y.type==="vcomp")continue;if(K.isEqual(Y.domRef,q[1])){a(T,Y,q.slice(1),z,G,K);break}}}else{let X=J.events[T.type];if(X){let Q=X.options;if(Q.preventDefault)T.preventDefault();if(X.runEvent(T,q[0]),!Q.stopPropagation)j(z,T)}else j(z,T)}}function j(T,J){for(let q of T)if(q.events[J.type]){let z=q.events[J.type],G=z.options;if(G.preventDefault)J.preventDefault();if(z.runEvent(J,q.domRef),G.stopPropagation){J.stopPropagation();break}}}function W(T,J){if(typeof T[0]==="object"){var q=[];for(var z=0;z<T.length;z++)q.push(W(T[z],J));return q}for(let Y of T)J=J[Y];var G;if(J instanceof Array||"length"in J&&J.localName!=="select"){G=[];for(var K=0;K<J.length;K++)G.push(W([],J[K]));return G}G={};for(var H in UT(J)){if(J.localName==="input"&&(H==="selectionDirection"||H==="selectionStart"||H==="selectionEnd"))continue;if(typeof J[H]=="string"||typeof J[H]=="number"||typeof J[H]=="boolean")G[H]=J[H]}return G}function UT(T){var J={},q=0;do{var z=Object.getOwnPropertyNames(T);for(q=0;q<z.length;q++)J[z[q]]=null}while(T=Object.getPrototypeOf(T));return J}function NT(T){var J=0,q=T.length>0?[T[0]]:[];for(var z=1;z<T.length;z++){if(q[J].type==="vtext"&&T[z].type==="vtext"){q[J].text+=T[z].text;continue}q[++J]=T[z]}return q}function WT(T,J){var q=0,z,G=J.getRoot();if(!T)if(G.childNodes.length>0)z=G.firstChild;else z=G.appendChild(J.createElement("div"));else if(T.childNodes.length===0)z=T.appendChild(J.createElement("div"));else{while(T.childNodes[q]&&(T.childNodes[q].nodeType===3||T.childNodes[q].localName==="script"))q++;if(!T.childNodes[q])z=G.appendChild(J.createElement("div"));else z=T.childNodes[q]}return z}function i(T,J,q,z){let G=WT(J,z);if(!u(T,q,G,z)){if(T)console.warn("[DEBUG_HYDRATE] Could not copy DOM into virtual DOM, falling back to diff");while(z.firstChild(G))z.removeChild(G,z.lastChild(G));return q.domRef=G,A(null,q,z),!1}else if(T)if(!V(q,z))console.warn("[DEBUG_HYDRATE] Integrity check completed with errors");else console.info("[DEBUG_HYDRATE] Successfully prerendered page");return!0}function k(T,J,q){if(T)console.warn("[DEBUG_HYDRATE] VTree differed from node",J,q)}function x(T){if(T.substr(0,1)=="#"){let J=(T.length-1)/3,q=[17,1,0.062272][J-1];return[Math.round(parseInt(T.substr(1,J),16)*q),Math.round(parseInt(T.substr(1+J,J),16)*q),Math.round(parseInt(T.substr(1+2*J,J),16)*q)]}else return T.split("(")[1].split(")")[0].split(",").map((J)=>{return+J})}function V(T,J){return d(!0,T,J)}function d(T,J,q){if(J.type=="vtext"){if(q.getTag(J.domRef)!=="#text")console.warn("VText domRef not a TEXT_NODE",J),T=!1;else if(J.text!==q.getTextContent(J.domRef))console.warn("VText node content differs",J),T=!1}else{if(J.tag.toUpperCase()!==q.getTag(J.domRef).toUpperCase())console.warn("Integrity check failed, tags differ",J.tag.toUpperCase(),q.getTag(J.domRef)),T=!1;if("children"in J&&J.children.length!==q.children(J.domRef).length)console.warn("Integrity check failed, children lengths differ",J,J.children,q.children(J.domRef)),T=!1;for(let z in J.props)if(z==="href"||z==="src"){let G=window.location.origin+"/"+J.props[z],K=q.getAttribute(J.domRef,z),H=J.props[z];if(G!==K&&H!==K&&H+"/"!==K&&G+"/"!==K)console.warn("Property "+z+" differs",J.props[z],q.getAttribute(J.domRef,z)),T=!1}else if(z==="height"||z==="width"){if(parseFloat(J.props[z])!==parseFloat(q.getAttribute(J.domRef,z)))console.warn("Property "+z+" differs",J.props[z],q.getAttribute(J.domRef,z)),T=!1}else if(z==="class"||z==="className"){if(J.props[z]!==q.getAttribute(J.domRef,"class"))console.warn("Property class differs",J.props[z],q.getAttribute(J.domRef,"class")),T=!1}else if(J.props[z]!==q.getAttribute(J.domRef,z))console.warn("Property "+z+" differs",J.props[z],q.getAttribute(J.domRef,z)),T=!1;for(let z in J.css)if(z==="color"){if(x(q.getInlineStyle(J.domRef,z)).toString()!==x(J.css[z]).toString())console.warn("Style "+z+" differs",J.css[z],q.getInlineStyle(J.domRef,z)),T=!1}else if(J.css[z]!==q.getInlineStyle(J.domRef,z))console.warn("Style "+z+" differs",J.css[z],q.getInlineStyle(J.domRef,z)),T=!1;for(let z of J.children){let G=d(T,z,q);T=T&&G}}return T}function u(T,J,q,z){switch(J.type){case"vtext":J.domRef=q;break;default:J.domRef=q,J.children=NT(J.children),I(J,z);for(var G=0;G<J.children.length;G++){let K=J.children[G],H=q.childNodes[G];if(!H)return k(T,K,H),!1;switch(K.type){case"vtext":if(H.nodeType!==3)return k(T,K,H),!1;if(K.text===H.textContent)K.domRef=z.children(q)[G];else return k(T,K,H),!1;break;case"vcomp":K.mount(K.domRef,(Y,X)=>{K.children.push(X),u(T,K,q.childNodes[G],z)});break;default:if(H.nodeType!==1)return!1;K.domRef=q.childNodes[G],u(T,K,K.domRef,z)}}}return!0}var s={addEventListener:(T,J,q,z)=>{T.addEventListener(J,q,z)},firstChild:(T)=>{return T.firstChild},lastChild:(T)=>{return T.lastChild},parentNode:(T)=>{return T.parentNode},createTextNode:(T)=>{return document.createTextNode(T)},createElementNS:(T,J)=>{return document.createElementNS(T,J)},appendChild:(T,J)=>{return T.appendChild(J)},replaceChild:(T,J,q)=>{return T.replaceChild(J,q)},removeChild:(T,J)=>{return T.removeChild(J)},createElement:(T)=>{return document.createElement(T)},insertBefore:(T,J,q)=>{return T.insertBefore(J,q)},swapDOMRefs:(T,J,q)=>{let z=T.nextSibling;q.insertBefore(T,J),q.insertBefore(J,z);return},querySelectorAll:(T)=>{return document.querySelectorAll(T)},setInlineStyle:(T,J,q)=>{var z;for(let G in T)if(z=J[G],!z)q.style[G]="";else if(z!==T[G])q.style[G]=z;for(let G in J){if(T&&T[G])continue;q.style[G]=J[G]}return},getInlineStyle:(T,J)=>{return T.style[J]},setAttribute:(T,J,q)=>{return T.setAttribute(J,q)},getAttribute:(T,J)=>{if(J==="class")return T.className;if(J in T)return T[J];return T.getAttribute(J)},setAttributeNS:(T,J,q,z)=>{return T.setAttributeNS(J,q,z)},removeAttribute:(T,J)=>{return T.removeAttribute(J)},setTextContent:(T,J)=>{T.textContent=J;return},getTag:(T)=>{return T.nodeName},getTextContent:(T)=>{return T.textContent},children:(T)=>{return T.childNodes},isEqual:(T,J)=>{return T===J},getTarget:(T)=>{return T.target},requestAnimationFrame:(T)=>{return window.requestAnimationFrame(T)},flush:()=>{return},getRoot:()=>{return document.body}};globalThis.miso={};globalThis.miso.diff=Z;globalThis.miso.hydrate=i;globalThis.miso.version=B;globalThis.miso.delegate=m;globalThis.miso.callBlur=S;globalThis.miso.callFocus=D;globalThis.miso.eventJSON=W;globalThis.miso.fetchJSON=E;globalThis.miso.eventSourceConnect=C;globalThis.miso.eventSourceClose=h;globalThis.miso.websocketConnect=f;globalThis.miso.websocketClose=O;globalThis.miso.websocketSend=P;globalThis.miso.undelegate=y;globalThis.miso.getParentComponentId=M;globalThis.miso.shouldSync=N;globalThis.miso.integrityCheck=V;globalThis.miso.context=s;globalThis.miso.setDrawingContext=function(T){let J=globalThis[T];if(!J)console.warn("Custom rendering engine is not defined",T,globalThis[T]);else globalThis.miso.context=J};
